(function(e){function t(t){for(var l,a,n=t[0],r=t[1],d=t[2],p=0,m=[];p<n.length;p++)a=n[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,d||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],l=!0,n=1;n<o.length;n++){var r=o[n];0!==i[r]&&(l=!1)}l&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var l={},i={index:0},s=[];function a(t){if(l[t])return l[t].exports;var o=l[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=l,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(o,l,function(t){return e[t]}.bind(null,l));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var c=r;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("e35a")},1333:function(e,t,o){},"1e7a":function(e){e.exports=JSON.parse('{"list":[{"type":"batch","label":"动态表格","index":"P","list":[{"type":"input","label":"姓名","index":"A","options":{"type":"text","width":"100%","defaultValue":"","placeholder":"请输入","clearable":false,"maxLength":null,"prepend":"","append":"","tooptip":"","hidden":false,"disabled":false,"dynamicHide":false,"dynamicHideValue":""},"model":"name","key":"input_1596783434007","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"radio","label":"性别","index":"F","options":{"disabled":false,"hidden":false,"defaultValue":"","dynamic":0,"tooptip":"","options":[{"value":"1","label":"男"},{"value":"2","label":"女"}],"dynamicHide":false,"dynamicHideValue":""},"model":"sex","key":"radio_1596783443126","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"date","label":"生日","index":"G","options":{"width":"100%","defaultValue":"","rangeDefaultValue":[],"range":false,"disabled":false,"hidden":false,"clearable":false,"placeholder":"请选择","tooptip":"","rangeStartPlaceholder":"开始时间","rangeEndPlaceholder":"结束时间","format":"yyyy-MM-dd","dynamicHide":false,"dynamicHideValue":""},"model":"birthday","key":"date_1596783455831","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]}],"options":{"scrollY":0,"disabled":false,"hidden":false,"showLabel":false,"hideSequence":false,"labelWidth":"100","labelPosition":"left","customStyle":"","customClass":"","showItem":["name","sex"],"width":"100%","dynamicHide":false,"dynamicHideValue":""},"model":"batch_1596783432238","key":"batch_1596783432238"}],"config":{"labelPosition":"left","labelWidth":0,"size":"mini","hideRequiredMark":true,"customStyle":""}}')},"3ddd":function(e){e.exports=JSON.parse('{"list":[{"type":"input","label":"输入框","index":"A","options":{"type":"text","width":"100%","defaultValue":"","placeholder":"请输入","clearable":false,"maxLength":null,"prepend":"","append":"","tooptip":"","hidden":false,"disabled":false,"dynamicHide":false,"dynamicHideValue":""},"model":"input_1596781096796","key":"input_1596781096796","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"textarea","label":"文本框","index":"B","options":{"width":"100%","maxLength":null,"defaultValue":"","rows":4,"clearable":false,"tooptip":"","hidden":false,"disabled":false,"placeholder":"请输入","dynamicHide":false,"dynamicHideValue":""},"model":"textarea_1596781097946","key":"textarea_1596781097946","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"select","label":"下拉选择器","index":"D","options":{"width":"100%","multiple":false,"disabled":false,"clearable":false,"hidden":false,"placeholder":"请选择","valueKey":"value","tooptip":"","dynamic":0,"options":[{"value":"1","label":"下拉框1"}],"showSearch":false,"dynamicHide":false,"dynamicHideValue":""},"model":"select_1596781098828","key":"select_1596781098828","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"radio","label":"单选框","index":"F","options":{"disabled":false,"hidden":false,"defaultValue":"","dynamic":0,"tooptip":"","options":[{"value":"1","label":"选项1"},{"value":"2","label":"选项2"}],"dynamicHide":false,"dynamicHideValue":""},"model":"radio_1596781099911","key":"radio_1596781099911","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"date","label":"日期选择框","index":"G","options":{"width":"100%","defaultValue":"","rangeDefaultValue":[],"range":false,"disabled":false,"hidden":false,"clearable":false,"placeholder":"请选择","tooptip":"","rangeStartPlaceholder":"开始时间","rangeEndPlaceholder":"结束时间","format":"yyyy-MM-dd","dynamicHide":false,"dynamicHideValue":""},"model":"date_1596781101081","key":"date_1596781101081","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]}],"config":{"labelPosition":"right","labelWidth":100,"size":"mini","hideRequiredMark":true,"customStyle":""}}')},5670:function(e){e.exports=JSON.parse('{"list":[{"type":"input","label":"姓名","index":"A","options":{"type":"text","width":"100%","defaultValue":"","placeholder":"请输入性别","clearable":false,"maxLength":null,"prepend":"","append":"","tooptip":"","hidden":false,"disabled":false,"dynamicHide":false,"dynamicHideValue":""},"model":"name","key":"input_1596781096796","rules":[{"required":true,"message":"必填项","trigger":["change","blur"]}]},{"type":"textarea","label":"地址","index":"B","options":{"width":"100%","maxLength":null,"defaultValue":"","rows":4,"clearable":false,"tooptip":"","hidden":false,"disabled":false,"placeholder":"请输入地址","dynamicHide":false,"dynamicHideValue":""},"model":"address","key":"textarea_1596781097946","rules":[{"required":false,"message":"必填项","trigger":["change","blur"]}]},{"type":"select","label":"性别","index":"D","options":{"width":"100%","multiple":false,"disabled":false,"clearable":false,"hidden":false,"placeholder":"请选择","valueKey":"value","tooptip":"","dynamic":0,"options":[{"value":"1","label":"男"},{"value":"2","label":"女"}],"showSearch":false,"dynamicHide":false,"dynamicHideValue":"","defaultValue":"1"},"model":"sex","key":"select_1596781098828","rules":[{"required":true,"message":"必填项","trigger":["change","blur"]}]},{"type":"radio","label":"有效证件","index":"F","options":{"disabled":false,"hidden":false,"defaultValue":"","dynamic":0,"tooptip":"","options":[{"value":"1","label":"身份证"},{"value":"2","label":"户口本"},{"value":"3","label":"护照"},{"value":"4","label":"其他"}],"dynamicHide":false,"dynamicHideValue":""},"model":"card","key":"radio_1596781099911","rules":[{"required":true,"message":"有效证件不能为空","trigger":["change","blur"]}]},{"type":"textarea","label":"其他有效证件说明","index":"B","options":{"width":"100%","maxLength":null,"defaultValue":"","rows":4,"clearable":false,"tooptip":"","hidden":false,"disabled":false,"placeholder":"请输入","dynamicHide":false,"dynamicHideValue":"","dynamicVisible":true,"dynamicVisibleValue":"$.card==4"},"model":"card_info","key":"textarea_1596782289229","rules":[{"required":true,"message":"其他有效证件说明不能为空","trigger":["change","blur"]}]}],"config":{"labelPosition":"right","labelWidth":150,"size":"mini","hideRequiredMark":false,"customStyle":""}}')},"8bbf":function(e,t){e.exports=Vue},a7e2:function(e,t,o){"use strict";o("dd0a")},dd0a:function(e,t,o){},e35a:function(e,t,o){"use strict";o.r(t);var l=o("8bbf"),i=o.n(l),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-tabs",{staticStyle:{padding:"20px"},on:{"tab-click":e.changeTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"表单绘制",name:"first"}},[o("form-design",{ref:"formDesign",attrs:{"custom-components":e.customComponents,config:e.formConfig},scopedSlots:e._u([{key:"custom-properties",fn:function(e){var t=e.selectItem;return[o("Properties",{attrs:{selectItem:t}})]}},{key:"extend-tab",fn:function(t){var l=t.data;return[o("el-tab-pane",{attrs:{label:"扩展属性",name:"select"}},[e._v(" 扩展测试插槽-加tab:: (组件数量):: "+e._s(l.list.length)+" ")])]}},{key:"form-extend-properties",fn:function(t){var o=t.data;return[e._v(" 扩展测试插槽(组件数量):: "+e._s(o.list.length)+" ")]}}])},[o("template",{slot:"controlButton"},[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.initDemo(1)}}},[e._v("示例1")]),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.initDemo(2)}}},[e._v("示例2")]),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.initDemo(3)}}},[e._v("示例3")])],1),o("template",{slot:"formName"},[o("span",[e._v(" form-design 示例 ")])])],2)],1),o("el-tab-pane",{attrs:{label:"表单查看",name:"second"}},[o("el-alert",{attrs:{title:"测试表单预览",type:"warning"}}),o("form-build",{ref:"formbuild",attrs:{formTemplate:e.formTemplate,models:e.models,"custom-components":e.customComponents,config:e.formConfig}}),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.validator()}}},[e._v("验证")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getData()}}},[e._v("获取数据")])],1)],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.preview?e._e():o("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入图片地址",disabled:e.disabled},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,"string"===typeof t?t.trim():t)},expression:"models[record.model]"}}),o("el-image",{style:e.record.options.style?e.record.options.style:null,attrs:{src:e.models[e.record.model],fit:"scale-down"}})],1)},r=[],d={props:{record:{type:Object,required:!0},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},preview:{type:Boolean,default:!1}},methods:{}},c=d,p=o("4ac2"),m=Object(p["a"])(c,n,r,!1,null,null,null),u=m.exports,h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.selectItem.key,expression:"selectItem.key"}],attrs:{size:"mini",disabled:e.disabled}},["customT"==e.selectItem.type?[o("el-form-item",{attrs:{label:"图片样式"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.selectItem.options.style,callback:function(t){e.$set(e.selectItem.options,"style",t)},expression:"selectItem.options.style"}})],1)]:e._e()],2)},b=[],f={props:{selectItem:{type:Object,required:!0},disabled:{type:Boolean,default:!1}}},v=f,y=Object(p["a"])(v,h,b,!1,null,null,null),g=y.exports,x={name:"App",components:{CustomT:u,Properties:g},data(){return{activeName:"first",models:{},formTemplate:{},formConfig:{httpConfig:e=>(e.headers["aaaa"]="bbbb",e)},customComponents:[{type:"customT",label:"自定义图片展示",component:u,options:{style:"width:100px;height:100px"},model:"DDD",key:"DDD",rules:[{required:!1,message:"必填项"}]}]}},created(){},methods:{initDemo(e){let t=null;1==e?t=o("3ddd"):2==e&&(t=o("1e7a")),3==e&&(t=o("5670")),t&&(this.$refs.formDesign.initModel(t),this.formTemplate=t)},validator(){this.$refs.formbuild.validator().then(e=>{e?this.$message.info("验证通过"):this.$message.error("验证不通过")})},changeTab(e){if(e&&"second"==e.name){this.formTemplate=this.$refs.formDesign.getModel();const e=this.formTemplate.list;if(e){const t=e.map(e=>e.model);for(let e in this.models)t.includes(e)||delete this.models[e]}}},getData(){this.$refs.formbuild.getData().then(e=>{console.log("data",e)})}}},k=x,w=(o("a7e2"),Object(p["a"])(k,s,a,!1,null,null,null)),_=w.exports,$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{staticClass:"form-design"},[o("el-aside",{attrs:{width:"260px"}},[e._t("drag"),o("DragPanel")],2),o("el-main",[o("el-row",{staticClass:"form-design",attrs:{gutter:20}},[o("el-col",{staticClass:"height-all",attrs:{span:18}},[o("el-card",{staticClass:"box-card form-contains",attrs:{header:"表单面板"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"el-card__header"},[e._t("formName",(function(){return[e._v("表单面板")]}))],2),o("span",{staticStyle:{float:"right"}},[e._t("controlButton"),e.clear?o("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v("清空")]):e._e(),e.preview?o("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v("预览")]):e._e(),e.reder?o("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handleRender}},[e._v("渲染")]):e._e(),e.imp?o("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-download"},on:{click:e.handleImport}},[e._v("导入")]):e._e(),e.exp?o("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-upload2"},on:{click:e.handleGenerateJson}},[e._v("导出")]):e._e()],2)]),o("DesignPanel",{ref:"dragPanel",attrs:{data:e.data,selectForm:e.selectForm},on:{changeSelectItem:e.changeSelectItem}})],1)],1),o("el-col",{staticClass:"height-all",attrs:{span:6}},[o("el-card",{staticClass:"box-card form-properties",attrs:{header:"属性配置"}},[o("Properties",{attrs:{data:e.data,selectItem:e.selectItem}},[o("template",{attrs:{selectItem:e.selectItem},slot:"custom-properties"},[e._t("custom-properties",null,{selectItem:e.selectItem})],2),o("template",{attrs:{data:e.data},slot:"form-extend-properties"},[e._t("form-extend-properties",null,{data:e.data})],2),o("template",{attrs:{data:e.data},slot:"extend-tab"},[e._t("extend-tab",null,{data:e.data})],2)],2)],1)],1)],1)],1),e.previewVisible?o("Preview",{ref:"preview"}):e._e(),e.renderVisisble?o("renderPreview",{ref:"renderPreview"}):e._e(),o("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"模板数据",visible:e.modelVisible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.modelVisible=t}}},[o("previewCode",{attrs:{editorJson:e.modelJson}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.modelVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.modelVisible=!1}}},[e._v("确 定")])],1)],1),o("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"模板数据",visible:e.importVisible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.importVisible=t}}},[o("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.importText,callback:function(t){e.importText=t},expression:"importText"}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.importVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.importModel}},[e._v("确 定")])],1)],1)],1)},I=[],C=o("0af2"),V=o.n(C),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"box-card form-item ",attrs:{header:"组件列表"}},[o("el-collapse",{model:{value:e.actives,callback:function(t){e.actives=t},expression:"actives"}},[o("el-collapse-item",{attrs:{title:"基础组件",name:"1"}},[o("DragItem",{attrs:{list:e.basicsArray},on:{generateKey:e.generateKey,handleListPush:e.handleListPush,start:e.handleStart}})],1),e.customComponents.length>0?o("el-collapse-item",{attrs:{title:"自定义组件",name:"2"}},[o("DragItem",{attrs:{list:e.customComponents},on:{generateKey:e.generateKey,handleListPush:e.handleListPush,start:e.handleStart}})],1):e._e(),o("el-collapse-item",{attrs:{title:"布局组件",name:"3"}},[o("DragItem",{attrs:{list:e.layoutArray},on:{generateKey:e.generateKey,handleListPush:e.handleListPush,start:e.handleStart}})],1)],1)],1)},P=[];function M(e,t,o="$"){if(!e)return!1;const l=e.indexOf("return")>=0?"{"+e+"}":"return ("+e+")",i=new Function(o,l);return i(t)}const T=["button","divider","card","control","grid","table","alert","text","html"],D=[{type:"input",label:"输入框",options:{type:"text",width:"100%",defaultValue:"",placeholder:"请输入",clearable:!1,maxLength:null,prepend:"",append:"",tooptip:"",hidden:!1,disabled:!1},model:"",key:"",rules:[{required:!1,message:"必填项",trigger:["blur"]}]},{type:"textarea",label:"文本框",options:{width:"100%",maxLength:null,defaultValue:"",rows:4,clearable:!1,tooptip:"",hidden:!1,disabled:!1,placeholder:"请输入"},model:"",key:"",rules:[{required:!1,message:"必填项",trigger:["blur"]}]},{type:"number",label:"数字输入框",options:{width:"100%",defaultValue:0,min:0,max:100,precision:null,tooptip:"",prepend:"",append:"",step:1,hidden:!1,disabled:!1,placeholder:"请输入"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"select",label:"下拉选择器",options:{width:"100%",defaultValue:void 0,multiple:!1,disabled:!1,clearable:!1,hidden:!1,placeholder:"请选择",valueKey:"value",tooptip:"",dynamic:0,remoteFunc:"",dataPath:"",remoteValue:"",remoteLabel:"",linkage:!1,options:[{value:"1",label:"下拉框1"}],showSearch:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"checkbox",label:"多选框",options:{disabled:!1,hidden:!1,defaultValue:[],dynamic:0,tooptip:"",remoteFunc:"",dataPath:"",remoteValue:"",remoteLabel:"",linkage:!1,options:[{value:"1",label:"选项1"},{value:"2",label:"选项2"}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"radio",label:"单选框",options:{disabled:!1,hidden:!1,defaultValue:"",dynamic:0,tooptip:"",remoteFunc:"",dataPath:"",remoteValue:"",remoteLabel:"",linkage:!1,options:[{value:"1",label:"选项1"},{value:"2",label:"选项2"}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"date",label:"日期选择框",options:{width:"100%",defaultValue:"",rangeDefaultValue:[],range:!1,disabled:!1,hidden:!1,clearable:!1,placeholder:"请选择",tooptip:"",rangeStartPlaceholder:"开始时间",rangeEndPlaceholder:"结束时间",format:"yyyy-MM-dd"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"time",label:"时间选择框",options:{width:"100%",defaultValue:"",disabled:!1,tooptip:"",hidden:!1,clearable:!1,placeholder:"请选择",format:"HH:mm:ss"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"datePicker",label:"日期时间选择框",options:{width:"100%",defaultValue:"",rangeDefaultValue:[],range:!1,disabled:!1,hidden:!1,clearable:!1,placeholder:"请选择",tooptip:"",rangeStartPlaceholder:"开始时间",rangeEndPlaceholder:"结束时间",format:"yyyy-MM-dd HH:mm:ss"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"rate",label:"评分",options:{defaultValue:0,max:5,tooptip:"",disabled:!1,hidden:!1,allowHalf:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"alert",label:"提示",options:{tooptip:"",title:"",type:"info",description:"",closable:!0,center:!0,showIcon:!1,effect:"light",closeText:""},key:""},{type:"slider",label:"滑动输入条",options:{width:"100%",defaultValue:0,disabled:!1,hidden:!1,min:0,tooptip:"",max:100,step:1,showInput:!1,marks:[]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"cascader",label:"级联选择器",options:{disabled:!1,hidden:!1,defaultValue:void 0,showSearch:!1,placeholder:"请选择",multiple:!1,clearable:!1,dynamic:0,tooptip:"",remoteFunc:"",dataPath:"",remoteValue:"",remoteLabel:"",options:[{value:"1",label:"选项1",children:[{value:"11",label:"选项11"}]},{value:"2",label:"选项2",children:[{value:"22",label:"选项22"}]}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"switch",label:"开关",options:{defaultValue:!1,activeText:"",inactiveText:"",tooptip:"",hidden:!1,disabled:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"button",label:"按钮",options:{type:"primary",handle:"submit",textAlign:"left",dynamicFun:"",tooptip:"",hidden:!1,disabled:!1},key:""},{type:"batch",label:"动态表格",list:[],options:{scrollY:0,disabled:!1,hidden:!1,showLabel:!1,hideSequence:!1,labelWidth:"100",addType:"dialog",labelPosition:"left",customStyle:"",customClass:"",showItem:[],colWidth:{},width:"100%"},model:"",key:""},{type:"text",label:"标签",options:{textAlign:"left",tooptip:"",hidden:!1,showRequiredMark:!1},key:""},{type:"html",label:"HTML",options:{tooptip:"",hidden:!1,defaultValue:"<strong>HTML</strong>"},key:""}],O=[{type:"divider",label:"分割线",options:{tooptip:"",orientation:"left",direction:"horizontal"},key:"",model:""},{type:"control",label:"弹性容器",list:[],options:{width:"100%",bordered:!0,disabled:!1,customStyle:"",customClass:"",noCopy:!1,noAdd:!1,noRemove:!1},key:"",model:""},{type:"grid",label:"栅格布局",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0},key:"",model:""},{type:"table",label:"表格布局",trs:[{tds:[{colspan:1,rowspan:1,list:[]},{colspan:1,rowspan:1,list:[]}]},{tds:[{colspan:1,rowspan:1,list:[]},{colspan:1,rowspan:1,list:[]}]}],options:{width:"100%",bordered:!0,bright:!1,small:!0,customStyle:"",customClass:""},key:"",model:""}];var R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"components-list"},[o("draggable",e._b({attrs:{tag:"ul",value:e.list,"force-fallback":!0},on:{start:function(t){return e.handleStart(t,e.list)}}},"draggable",{group:{name:"form-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},!1),e._l(e.list,(function(t,l){return o("li",{key:l,staticClass:"form-edit-widget-label",on:{click:function(o){return e.$emit("handleListPush",t)}}},[o("a",[o("span",[e._v(e._s(t.label))])])])})),0)],1)},q=[],F=o("3335"),L=o.n(F),A={name:"dragItem",props:{list:{type:Array,default:()=>[]}},components:{draggable:L.a},methods:{handleStart(e,t){this.$emit("start",t,e.oldIndex)}}},j=A,E=Object(p["a"])(j,R,q,!1,null,null,null),z=E.exports,B={components:{DragItem:z},data(){return{actives:["1","2","3"],noModel:T,startType:"",data:{list:[],config:{layout:"horizontal",labelCol:{span:4},wrapperCol:{span:18},hideRequiredMark:!1,customStyle:""}},previewOptions:{width:850},selectItem:{key:""},customComponents:[]}},computed:{basicsArray(){const e=D;return e.forEach(e=>{if(e.options.dynamicHide=!1,e.options.dynamicHideValue="",!e.key){const t=e.type+"_"+(new Date).getTime();e["key"]=t,e["model"]=t}}),e},layoutArray(){const e=O;return e.forEach(e=>{if(e.options.dynamicVisible=!1,e.options.dynamicVisibleValue="",!e.key){const t=e.type+"_"+(new Date).getTime();e["key"]=t,e["model"]=t}}),e}},created(){window.customComponents&&(this.customComponents=window.customComponents,this.customComponents&&this.customComponents.length>0&&this.customComponents.forEach(e=>{if(!e.key){const t=e.type+"_"+(new Date).getTime();e["key"]=t,e["model"]=t}}))},methods:{generateKey(e,t){const o=e[t].type+"_"+(new Date).getTime();this.$set(e,t,{...e[t],key:o,model:o}),this.noModel.includes(e[t].type)&&delete e[t].model},handleListPush(e){if(!this.selectItem.key){const t=e.type+"_"+(new Date).getTime();e={...e,key:t,model:t},this.noModel.includes(e.type)&&delete e.model;const o=JSON.stringify(e),l=JSON.parse(o);return delete l.icon,delete l.component,this.data.list.push(l),this.$emit("handleSetSelectItem",l),!1}},handleStart(e,t){this.generateKey(e,t);const o=e[t].type;this.startType=o}}},H=B,N=Object(p["a"])(H,S,P,!1,null,null,null),J=N.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("FormPanel",{attrs:{data:e.data,selectItem:e.selectItem,noModel:e.noModel,hideModel:e.hideModel,selectForm:e.selectForm,startType:e.startType},on:{handleSetSelectItem:e.handleSetSelectItem}})},W=[],K=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-panel"},[o("p",{directives:[{name:"show",rawName:"v-show",value:0===e.data.list.length,expression:"data.list.length === 0"}],staticClass:"hint-text"},[e._v(" 从左侧选择组件添加 ")]),o("el-form",{ref:"form",staticClass:"a-form-box form-build",style:e.data.config.customStyle,attrs:{"label-width":e.data.config.labelWidth+"px","label-position":e.data.config.labelPosition,"hide-required-asterisk":e.data.config.hideRequiredMark,size:e.data.config.size}},[o("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div","force-fallback":!0},on:{add:e.deepClone,start:function(t){return e.dragStart(t,e.data.list)}},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[o("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(e.data.list,(function(t){return o("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{record:t,config:e.data.config,selectItem:e.selectItem,startType:e.startType,insertAllowedType:e.insertAllowedType,hideModel:e.hideModel},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},dragStart:e.dragStart,handleSelectItem:e.handleSelectItem,handleCopy:e.handleCopy,handleDetele:e.handleDetele,handleColAdd:e.handleColAdd,handleShowRightMenu:e.handleShowRightMenu}})})),1)],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showRightMenu,expression:"showRightMenu"}],staticClass:"right-menu",style:{top:e.menuTop+"px",left:e.menuLeft+"px"},attrs:{id:"rightMenu"}},[o("ul",[o("li",{on:{click:e.handleSettingStyle}},[o("i",{staticClass:"el-icon-magic-stick"}),e._v("样式配置")]),o("hr"),e.isMergeCol?[o("li",{on:{click:e.handleDropMerge}},[o("i",{staticClass:"el-icon-delete"}),e._v("解除合并")]),o("hr")]:e._e(),o("li",{on:{click:e.handleDownMerge}},[o("i",{staticClass:"el-icon-bottom"}),e._v("向下合并")]),o("li",{on:{click:e.handleRightMerge}},[o("i",{staticClass:"el-icon-right"}),e._v("向右合并")]),o("li",{on:{click:e.handleAddCol}},[o("i",{staticClass:"el-icon-zoom-in"}),e._v("增加一列")]),o("li",{on:{click:e.handleAddRow}},[o("i",{staticClass:"el-icon-zoom-in"}),e._v("增加一行")]),o("hr"),o("li",{on:{click:e.handleRemoveRow}},[o("i",{staticClass:"el-icon-zoom-out"}),e._v("删除当前行")]),o("li",{on:{click:e.handleRemoveCol}},[o("i",{staticClass:"el-icon-zoom-out"}),e._v("删除当前列")])],2)]),o("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"表内单元格样式配置",visible:e.styleVisible,"append-to-body":!0},on:{"update:visible":function(t){e.styleVisible=t}}},[o("el-form",{attrs:{size:"mini",model:e.tdStyle,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"class"}},[o("el-input",{attrs:{placeholder:"请输入class名称"},model:{value:e.tdStyle.class,callback:function(t){e.$set(e.tdStyle,"class",t)},expression:"tdStyle.class"}})],1),o("el-form-item",{attrs:{label:"style"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入css样式"},model:{value:e.tdStyle.style,callback:function(t){e.$set(e.tdStyle,"style",t)},expression:"tdStyle.style"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.styleVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.settingStyle}},[e._v("确 定")])],1)],1)],1)},Y=[],G=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{"layout-width":["control","table","grid","divider","html"].includes(e.record.type)}},[e.record&&"batch"===e.record.type?[o("div",{class:["batch-box",e.record.options.customClass?e.record.options.customClass:"",e.record.key===e.selectItem.key?"active":""],style:e.record.options.customStyle,on:{click:function(t){return e.handleSelectItem(e.record)}}},[o("div",{staticClass:"batch-label"},[e._v("动态表格")]),o("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div","force-fallback":!0},on:{start:function(t){return e.$emit("dragStart",t,e.record.list)},add:function(t){return e.$emit("handleColAdd",t,e.record.list)}},model:{value:e.record.list,callback:function(t){e.$set(e.record,"list",t)},expression:"record.list"}},"draggable",{group:e.insertAllowed?"form-draggable":"",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[o("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(e.record.list,(function(t){return o("formNode",{key:t.key,staticClass:"drag-move",attrs:{selectItem:e.selectItem,record:t,hideModel:e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1),o("div",{staticClass:"copy",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleCopy")}}},[o("i",{staticClass:"el-icon-copy-document"})]),o("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[o("i",{staticClass:"el-icon-delete"})])],1)]:e.record&&"grid"===e.record.type?[o("div",{staticClass:"grid-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.handleSelectItem(e.record)}}},[o("el-row",{staticClass:"grid-row",attrs:{gutter:e.record.options.gutter}},e._l(e.record.columns,(function(t,l){return o("el-col",{key:l,staticClass:"grid-col",attrs:{span:t.span||0}},[o("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div","force-fallback":!0},on:{start:function(o){return e.$emit("dragStart",o,t.list)},add:function(o){return e.$emit("handleColAdd",o,t.list)}},model:{value:t.list,callback:function(o){e.$set(t,"list",o)},expression:"colItem.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[o("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(t.list,(function(t){return o("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{selectItem:e.selectItem,startType:e.startType,insertAllowedType:e.insertAllowedType,record:t,hideModel:e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1)],1)})),1),o("div",{staticClass:"copy",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleCopy")}}},[o("i",{staticClass:"el-icon-copy-document"})]),o("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[o("i",{staticClass:"el-icon-delete"})])],1)]:e.record&&"control"===e.record.type?[o("div",{class:["grid-box","control-form",e.record.options.customClass?e.record.options.customClass:"",e.record.key===e.selectItem.key?"active":"",e.record.options&&e.record.options.bordered?"form-table-bordered":""],style:e.record.options.customStyle,on:{click:function(t){return e.handleSelectItem(e.record)}}},[o("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div","force-fallback":!0},on:{start:function(t){return e.$emit("dragStart",t,e.record.list)},add:function(t){return e.$emit("handleColAdd",t,e.record.list)}},model:{value:e.record.list,callback:function(t){e.$set(e.record,"list",t)},expression:"record.list"}},"draggable",{group:e.insertAllowed?"form-draggable":"",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[o("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(e.record.list,(function(t){return o("formNode",{key:t.key,staticClass:"drag-move",attrs:{selectItem:e.selectItem,record:t,hideModel:e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1),o("div",{staticClass:"copy",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleCopy")}}},[o("i",{staticClass:"el-icon-copy-document"})]),o("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[o("i",{staticClass:"el-icon-delete"})])],1)]:e.record&&"table"===e.record.type?[o("div",{staticClass:"table-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.handleSelectItem(e.record)}}},[o("table",{class:["table-layout","form-table",e.record.options.customClass?e.record.options.customClass:"",e.record.options.bright?"bright":"",e.record.options.small?"small":"",e.record.options.bordered?"bordered":""],style:e.record.options.customStyle},e._l(e.record.trs,(function(t,l){return o("tr",{key:l},e._l(t.tds,(function(t,i){return o("td",{key:i,class:["table-td",t.class],style:t.style,attrs:{colspan:t.colspan,rowspan:t.rowspan},on:{contextmenu:function(o){return o.preventDefault(),e.$emit("handleShowRightMenu",o,e.record,l,i,t.colspan>1||t.rowspan>1)}}},[o("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div","force-fallback":!0},on:{start:function(o){return e.$emit("dragStart",o,t.list)},add:function(o){return e.$emit("handleColAdd",o,t.list)}},model:{value:t.list,callback:function(o){e.$set(t,"list",o)},expression:"tdItem.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[o("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(t.list,(function(t){return o("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{selectItem:e.selectItem,startType:e.startType,insertAllowedType:e.insertAllowedType,record:t,hideModel:e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1)],1)})),0)})),0),o("div",{staticClass:"copy",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleCopy")}}},[o("i",{staticClass:"el-icon-copy-document"})]),o("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[o("i",{staticClass:"el-icon-delete"})])])]:void 0!=e.record?[o("formNode",{key:e.record.key,attrs:{selectItem:e.selectItem,record:e.record,config:e.config,hideModel:e.hideModel},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleCopy:function(t){return e.$emit("handleCopy")},handleDetele:function(t){return e.$emit("handleDetele")},handleShowRightMenu:function(t){return e.$emit("handleShowRightMenu")}}})]:e._e()],2)},X=[],Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"drag-move-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.$emit("handleSelectItem",e.record)}}},[o("div",{staticClass:"form-item-box"},[o("FormItem",{attrs:{formConfig:e.config,models:e.models,record:e.record,isDragPanel:!0}})],1),e.hideModel?e._e():o("div",{staticClass:"show-key-box",domProps:{textContent:e._s(e.record.model)}}),o("div",{staticClass:"copy",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleCopy")}}},[o("i",{staticClass:"el-icon-document-copy"})]),o("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[o("i",{staticClass:"el-icon-delete"})])])},Z=[],ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return!0===e.record.options.hidden||!["input","textarea","date","time","datePicker","number","radio","checkbox","select","rate","switch","slider","uploadImg","uploadFile","cascader"].includes(e.record.type)&&!e.customList.includes(e.record.type)||!e.dynamicVisibleItem||"select"==e.record.type&&e.renderPreview&&e.record.options.previewHidden?"batch"!==e.record.type&&"editor"!==e.record.type||!e.dynamicVisibleItem?"button"===e.record.type&&e.dynamicVisibleItem?o("el-form-item",{style:{textAlign:e.record.options.textAlign}},[o("el-button",{attrs:{disabled:e.disabled||e.record.options.disabled,type:e.record.options.type},domProps:{textContent:e._s(e.record.label)},on:{click:e.buttonClick}})],1):"text"===e.record.type&&e.dynamicVisibleItem?o("div",{staticClass:"form-label",style:{textAlign:e.record.options.textAlign}},[o("label",{class:{"is-required":e.record.options.showRequiredMark||e.showRequiredMark},domProps:{textContent:e._s(e.record.label)}})]):"alert"===e.record.type&&e.dynamicVisibleItem?o("div",{staticClass:"form-label",style:{textAlign:e.record.options.textAlign}},[o("el-alert",{attrs:{title:e.record.options.title,type:e.record.options.type,description:e.record.options.description,effect:e.record.options.effect,closable:e.record.options.closable,center:e.record.options.center,"close-text":e.record.options.closeText,"show-icon":e.record.options.showIcon}})],1):"html"===e.record.type&&e.dynamicVisibleItem?o("div",{attrs:{id:e.record.model,name:e.record.model},domProps:{innerHTML:e._s(e.record.options.defaultValue)}}):e.dynamicVisibleItem?o("div",["divider"===e.record.type&&""!==e.record.label&&e.record.options.orientation?o("el-divider",{attrs:{"content-position":e.record.options.orientation,direction:e.record.options.direction?e.record.options.direction:"horizontal"}},[e._v(" "+e._s(e.record.label)+" ")]):"divider"===e.record.type&&""!==e.record.label?o("el-divider",{attrs:{direction:e.record.options.direction?e.record.options.direction:"horizontal"}},[e._v(" "+e._s(e.record.label)+" ")]):"divider"===e.record.type&&""===e.record.label?o("el-divider",{attrs:{direction:e.record.options.direction?e.record.options.direction:"horizontal"}}):e._e()],1):e._e():o("el-form-item",{attrs:{id:e.record.model,name:e.record.model,label:e.record.options.showLabel?e.record.label:"","label-width":e.record.options.showLabel?null:"0px"}},["batch"===e.record.type?o("TableBatch",{ref:"TableBatch",style:"width:"+e.record.options.width,attrs:{renderPreview:e.renderPreview,models:e.models,record:e.record,config:e.formConfig,parentDisabled:e.disabled},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):e._e()],1):o("el-form-item",{attrs:{label:e.formConfig.labelWidth>0?e.record.label:null,rules:e.recordRules,prop:e.recordRules&&e.recordRules.length>0?e.record.model:null,id:e.record.model,name:e.record.model}},[o("BaseItem",{attrs:{models:e.models,formConfig:e.formConfig,renderPreview:e.renderPreview,record:e.record,disabled:e.disabled,isDragPanel:e.isDragPanel},on:{forceUpdate:e.forceUpdate}})],1)},te=[],oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-table-index",attrs:{id:e.record.model,name:e.record.model}},[o("el-table",{class:["form-table",e.record.options.customClass?e.record.options.customClass:""],style:e.record.options.customStyle,attrs:{rowKey:function(e){return e.key},data:e.models[e.record.model],border:e.record.options.showBorder,scroll:{x:190*e.record.list.length+80+(e.record.options.hideSequence?0:60),y:e.record.options.scrollY}}},[e.isVisible?[e.record.options.hideSequence?e._e():o("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"50"}}),e._l(e.record.list,(function(t,l){return["dialog"!=e.record.options.addType||e.record.options.showItem&&e.record.options.showItem.includes(t.model)?o("el-table-column",{key:l,attrs:{label:t.label,width:e.record.options.colWidth&&e.record.options.colWidth[t.model]?e.record.options.colWidth[t.model]:void 0,align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[o("TableItem",{attrs:{record:t,renderPreview:e.renderPreview||"dialog"==e.record.options.addType,domains:e.models[e.record.model][l.$index]}})]}}],null,!0)}):e._e()]})),e.renderPreview&&"dialog"!=e.record.options.addType?e._e():o("el-table-column",{attrs:{label:"操作",align:"center",width:e.controlWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e.renderPreview&&"dialog"==e.record.options.addType?o("el-button",{attrs:{type:"success"},on:{click:function(o){return e.updateDomain(t.row)}}},[o("i",{staticClass:"el-icon-eye"}),e._v("查看 ")]):e._e(),e.renderPreview||"dialog"!=e.record.options.addType?e._e():o("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.updateDomain(t.row)}}},[o("i",{staticClass:"el-icon-edit"}),e._v("修改 ")]),!e.renderPreview&&e.record.options.copyRow?o("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.copyDomain(t.row)}}},[o("i",{staticClass:"el-icon-copy-document"}),e._v("复制 ")]):e._e(),e.renderPreview?e._e():o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.removeDomain(t.$index)}}},[o("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])]}}],null,!1,2814633969)})]:e._e()],2),e.renderPreview?e._e():o("el-button",{attrs:{type:"dashed",disabled:e.disabled},on:{click:e.addDomain}},[o("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("增加 ")]),e.addOrUpdateVisible?o("AddOrUpdate",{ref:"addOrUpdate",attrs:{formConfig:e.config,formTemplate:e.templateData,renderPreview:e.renderPreview},on:{formAdd:e.formAdd,formUpdate:e.formUpdate}}):e._e()],1)},le=[],ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"text"===e.record.type?o("div",{style:{textAlign:e.record.options.textAlign}},[o("span",[e._v(e._s(e.record.label))])]):"html"===e.record.type?o("div",{domProps:{innerHTML:e._s(e.record.options.defaultValue)}}):o("div",[o("BaseItem",{attrs:{models:e.domains,record:e.record,renderPreview:e.renderPreview}})],1)},se=[],ae=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.renderPreview?o("div",[["input","textarea","date","time","datePicker","number","rate","switch","slider"].includes(e.record.type)?[e.record.options.prepend?o("span",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.prepend))}}):e._e(),e.loading?e._e():o("span",[e._v(e._s(e.models[e.record.model])+" ")]),e.record.options.append?o("span",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))}}):e._e()]:["radio","checkbox","select","cascader"].includes(e.record.type)?[e._v(" "+e._s(e.models[e.record.model+"_label"])+" ")]:["uploadImg","uploadFile"].includes(e.record.type)?["uploadImg"==e.record.type?o("FileUpload",{style:"width:"+e.record.options.width,attrs:{fileForm:e.models,fileKey:e.record.model,updateNow:!0,accept:"image/*","list-type":e.record.options.listType,readOnly:!0}}):o("FileUpload",{style:"width:"+e.record.options.width,attrs:{fileForm:e.models,updateNow:!0,fileKey:e.record.model,readOnly:!0}})]:e.customList.includes(e.record.type)?[o("customComponent",{attrs:{models:e.models,record:e.record,disabled:e.disabled||e.record.options.disabled,renderPreview:!0},on:{change:function(t){return e.handleChange(t,e.record.model)}}})]:[e._v(" "+e._s("")+" ")]],2):o("div",{staticClass:"base-item"},["input"===e.record.type?o("el-input",{style:"width:"+e.record.options.width,attrs:{disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,type:e.record.options.type,clearable:e.record.options.clearable,maxlength:e.record.options.maxLength>0?e.record.options.maxLength:null},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},[e.record.options.prepend?o("span",{attrs:{slot:"prepend"},domProps:{innerHTML:e._s(e.transformAppend(e.record.options.prepend))},slot:"prepend"}):e._e(),e.record.options.append?o("span",{attrs:{slot:"append"},domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))},slot:"append"}):e._e()]):"textarea"===e.record.type?o("el-input",{style:"width:"+e.record.options.width,attrs:{type:"textarea",disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,clearable:e.record.options.clearable,maxlength:e.record.options.maxLength>0?e.record.options.maxLength:null,rows:e.record.options.rows,"show-word-limit":e.record.options.maxLength>0&&e.record.options.maxLength>10},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"number"===e.record.type?[o("div",{staticClass:"el-input-number-diaplay",style:"width:"+e.record.options.width},[o("el-input-number",{class:e.record.options.append?"el-input-number__append":null,style:"width:100%;float:left;",attrs:{min:e.record.options.min||0===e.record.options.min?e.record.options.min:-1/0,max:e.record.options.max||0===e.record.options.max?e.record.options.max:1/0,disabled:e.dynamicDisabled,step:e.record.options.step,precision:e.record.options.precision>50||!e.record.options.precision&&0!==e.record.options.precision?null:e.record.options.precision,"controls-position":"right",placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}),e.record.options.append?o("div",{staticClass:"el-input-group__append el-input-number-group__append ",domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))}}):e._e()],1)]:"select"===e.record.type?[e.record.options.multiple?o("el-select",{style:"width:"+e.record.options.width,attrs:{"value-key":e.itemProp.value,remote:e.record.options.onlineSearch&&e.record.options.showSearch,"remote-method":e.remoteMethod,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.dynamicDisabled,clearable:e.record.options.clearable,multiple:""},on:{clear:e.clearChange,change:function(t){return e.handleChange(t,e.record.model,!0)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,(function(t){return[e.itemVisible(t)?o("el-option",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.label],value:t[e.itemProp.value]}}):e._e()]}))],2):o("el-select",{style:"width:"+e.record.options.width,attrs:{"value-key":e.itemProp.value,remote:e.record.options.onlineSearch&&e.record.options.showSearch,"remote-method":e.remoteMethod,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.dynamicDisabled,clearable:e.record.options.clearable},on:{clear:e.clearChange,change:function(t){return e.handleChange(t,e.record.model,!0)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},[e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,(function(t){return[e.itemVisible(t)?o("el-option",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.label],value:t[e.itemProp.value]}}):e._e()]}))],2)]:"checkbox"===e.record.type?o("el-checkbox-group",{attrs:{disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,(function(t){return[e.itemVisible(t)?o("el-checkbox",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.value]}},[e._v(" "+e._s(t[e.itemProp.label])+" ")]):e._e()]}))],2):"radio"===e.record.type?o("el-radio-group",{attrs:{disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},[e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,(function(t){return[e.itemVisible(t)?o("el-radio",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.value]}},[e._v(" "+e._s(t[e.itemProp.label])+" ")]):e._e()]}))],2):"date"===e.record.type?[e.record.options.range?o("el-date-picker",{attrs:{align:"right",type:"daterange",clearable:e.record.options.clearable,disabled:e.dynamicDisabled,"start-placeholder":e.record.options.rangeStartPlaceholder,"end-placeholder":e.record.options.rangeEndPlaceholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}}):o("el-date-picker",{attrs:{align:"right",type:"date",clearable:e.record.options.clearable,disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}})]:"datePicker"===e.record.type?[e.record.options.range?o("el-date-picker",{attrs:{align:"right",type:"datetimerange",clearable:e.record.options.clearable,disabled:e.dynamicDisabled,"start-placeholder":e.record.options.rangeStartPlaceholder,"end-placeholder":e.record.options.rangeEndPlaceholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}}):o("el-date-picker",{attrs:{align:"right",type:"datetime",clearable:e.record.options.clearable,disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}})]:"time"===e.record.type?o("el-time-select",{attrs:{clearable:e.record.options.clearable,disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"rate"===e.record.type?o("el-rate",{attrs:{max:e.record.options.max,disabled:e.dynamicDisabled,placeholder:e.record.options.placeholder,allowHalf:e.record.options.allowHalf},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"slider"===e.record.type?o("el-slider",{style:"width:"+e.record.options.width,attrs:{disabled:e.dynamicDisabled,min:e.record.options.min,max:e.record.options.max,"show-input":e.record.options.showInput,step:e.record.options.step,marks:e.sliderMarks},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"cascader"===e.record.type?o("el-cascader",{ref:"cascader",style:"width:"+e.record.options.width,attrs:{options:1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.dynamicDisabled,clearable:e.record.options.clearable,props:e.itemProp},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}}):"switch"===e.record.type?o("el-switch",{attrs:{"active-text":e.record.options.activeText,"inactive-text":e.record.options.inactiveText,disabled:e.dynamicDisabled},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):e.customList.includes(e.record.type)?o("customComponent",{attrs:{models:e.models,record:e.record,disabled:e.dynamicDisabled,formConfig:e.formConfig,renderPreview:e.renderPreview},on:{change:function(t){return e.handleChange(t,e.record.model)}}}):e._e()],2)},ne=[],re=o("82ae"),de=o.n(re);const ce=de.a.create({withCredentials:!1});ce.interceptors.request.use(e=>{if(window.httpConfig){let t=window.httpConfig(e);t&&(e=t)}return e},e=>(console.log("error",e),Promise.reject(new Error(e).message))),ce.interceptors.response.use(e=>e.data,e=>(console.log("error",e),Promise.reject(new Error(e).message)));var pe=ce,me=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o(e.customComponent,{tag:"component",style:"width:"+e.record.options.width,attrs:{record:e.record,disabled:e.disabled,preview:e.renderPreview,models:e.models},on:{change:e.handleChange}})],1)},ue=[],he={data(){return{}},props:{record:{type:Object,required:!0},formConfig:{type:Object,required:!1},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1}},computed:{customComponent(){let e={};return window.customComponents&&window.customComponents.forEach(t=>{e[t.type]=t.component}),e[this.record.type]}},methods:{handleChange(e,t){this.$emit("change",e,t)}}},be=he,fe=Object(p["a"])(be,me,ue,!1,null,null,null),ve=fe.exports,ye={name:"form-item-base",data(){return{loading:!1,checkList:[],checkValues:[],itemProp:{children:"children",value:"value",label:"label",multiple:this.record.options.multiple},remoteUrl:"",localFilter:[],remoteFilter:{}}},props:{record:{type:Object,required:!0},formConfig:{type:Object,required:!1},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1},isDragPanel:{type:Boolean,default:!1}},components:{CustomComponent:ve},computed:{sliderMarks(){if("slider"!==this.record.type||!this.record.options.marks||0==this.record.options.marks.length)return null;let e={};return this.record.options.marks.forEach(t=>{e[t.value]=t.label}),e},customList(){return window.customComponents?window.customComponents.map(e=>e.type):[]},linkageData(){if(!this.isDragPanel&&this.record.options.linkage){const e=this.record.options.linkData;if(!e)return null;let t=[];for(let o=0;o<e.length;o++){const l=e[o];l.model&&t.push(this.models[l.model])}return t}return null},modelsRecord(){return this.models[this.record.model]},dynamicDisabled(){if(this.disabled)return!0;if(this.record.options.disabled){if(this.record.options.dynamicDisabled){if(this.record.options.dynamicDisabledValue){const e=this.record.options.dynamicDisabledValue,t=M(e,this.models,this.data);return t}return!0}return!0}return!1}},watch:{checkList:{handler(e,t){this.$set(this.models,this.record.model,e)},deep:!0},checkValues:{handler(e,t){const o=this.models[this.record.model];this.handleChange(o,this.record.model,1)},deep:!0},linkageData:{handler(e,t){if(this.record.options.linkage){const e=this.record.options.linkData;if(!e)return;let t=[],o={};for(let l=0;l<e.length;l++){const i=e[l];if(1==i.vtype)t.push(i.script);else if(2==i.vtype&&1==this.record.options.dynamic&&this.record.options.remoteFunc&&i.queryKey&&i.queryValue){const e=M(i.queryValue,this.models);o[i.queryKey]=e}}this.localFilter=t,this.remoteFilter=o,"select"===this.record.type&&this.record.options.multiple||"checkbox"===this.record.type?this.checkList=[]:this.$set(this.models,this.record.model,null),this.remoteFilter&&this.getRemoteData()}},deep:!0},modelsRecord:{handler(e,t){("checkbox"==this.record.type||"select"==this.record.type&&this.record.options.multiple)&&e instanceof Array&&(this.checkList=e)},deep:!0}},methods:{transformAppend(e){if(e&&(e.indexOf("return")>=0||e.indexOf("$")>=0)){const t=e,o=M(t,this.models);return o}return e},remoteMethod(e){let t=this.record.options.onlineParams;t=t.replace("$",e);let o=this.record.options.remoteFunc;o.indexOf("?")>=0?o+="&"+t:o+="?"+t,this.remoteUrl=o,this.getRemoteData()},getRemoteData(){const e=o("0089"),t=this.record.options.dataPath;pe({url:this.remoteUrl,method:"get",params:{...this.remoteFilter}}).then(o=>{if(o){const l=e.get(o,t);this.checkValues=l}})},dynamicVisible(e,t){const o=e.indexOf("return")>=0?"{"+e+"}":"return ("+e+")",l=new Function("$","$item",o);return l(this.models,t)},itemVisible(e){if(this.isDragPanel||!this.localFilter||0==this.localFilter.length)return!0;for(let t=0;t<this.localFilter.length;t++){const o=this.dynamicVisible(this.localFilter[t],e);if(!o)return!1}return!0},clearChange(){if(!this.record.options.clearCb)return;const e=this.record.options.clearCb,t="{"+e+"}",o=new Function("$","data",t);o(this.models,this.data)},handleChange(e,t,o){if(this.$emit("change",e,t),["select","radio","checkbox","cascader"].includes(this.record.type)){let t=[],l=this.record.options.dynamic>0?this.checkValues:this.record.options.options;if(l||(l=[]),"cascader"==this.record.type){let o=[];o=this.itemProp.multiple?e:[e];const l=this.$refs.cascader.getCheckedNodes();for(let e=0;e<o.length;e++){const i=o[e],s=l.filter(e=>e.path==i);if(s&&s.length>0){const e=s[0].pathLabels;e&&e.length>0&&t.push(e.join("/"))}}}else{let o=[];o=e instanceof Array?e:[e];for(let e=0;e<o.length;e++){const i=o[e],s=l.filter(e=>e[this.itemProp.value]==i);if(s&&s.length>0){const e=s[0][this.itemProp.label];t.push(e)}}}const i=this.record.model+"_label";if(this.$set(this.models,i,t.join(",")),o&&this.record.options.selectCb){const t=1==this.record.options.dynamic&&this.record.options.remoteFunc?this.checkValues:this.record.options.options,o=t.filter(t=>t[this.itemProp.value]==e);if(o&&o.length>0){const e=o[0];this.$nextTick(()=>{const t=this.record.options.selectCb,o="{"+t+"}",l=new Function("$","$select",o);l(this.models,e)})}}}}},activated(){},mounted(){if(this.record.options.cbColumn&&!this.isDragPanel){this.loading=!0;const e=this.data[this.record.options.cbColumn];return this.$set(this.models,this.record.model,e),void(this.loading=!1)}if(1==this.record.options.dynamic&&this.record.options.remoteFunc){const e=this.record.options.remoteFunc;this.remoteUrl=e,this.getRemoteData(),this.itemProp.label=this.record.options.remoteLabel,this.itemProp.value=this.record.options.remoteValue,this.itemProp.children=this.record.options.remoteChildren}if(this.models&&Object.prototype.hasOwnProperty.call(this.models,this.record.model)){let e=this.models[this.record.model];return void(("checkbox"==this.record.type||"cascader"==this.record.type||"select"==this.record.type&&this.record.options.multiple)&&(e instanceof Array||(e=[e],this.$set(this.models,this.record.model,e)),this.checkList=e))}const e=this.record.options.defaultValue;e&&("checkbox"==this.record.type||"cascader"==this.record.type?this.checkList=e:this.$set(this.models,this.record.model,e),this.handleChange(e,this.record.model)),this.isDragPanel||Object.prototype.hasOwnProperty.call(this.models,this.record.model)||this.$set(this.models,this.record.model,"")}},ge=ye,xe=Object(p["a"])(ge,ae,ne,!1,null,null,null),ke=xe.exports,we={name:"TableItem",props:{record:{type:Object,required:!0},domains:{type:Object,required:!0},renderPreview:{type:Boolean,default:!1}},computed:{customList(){return window.customComponents?window.customComponents.map(e=>e.type):[]}},components:{BaseItem:ke},methods:{}},_e=we,$e=Object(p["a"])(_e,ie,se,!1,null,null,null),Ie=$e.exports,Ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.dataForm._id?"修改":"新增","close-on-click-modal":!1,"append-to-body":!0,"lock-scroll":!1,visible:e.visible,id:e.randomId},on:{"update:visible":function(t){e.visible=t}}},["undefined"!==typeof e.formTemplate.list&&"undefined"!==typeof e.formTemplate.config?o("el-form",{ref:"dataForm",staticClass:"form-build form-design",attrs:{"label-position":e.formTemplate.config.labelPosition,"hide-required-asterisk":e.formTemplate.config.hideRequiredMark,"label-width":e.formTemplate.config.labelWidth+"px",model:e.dataForm,size:"mini"}},[e._l(e.formTemplate.list,(function(t,l){return[!0!==t.options.hidden&&(["input","textarea","date","time","datePicker","number","radio","checkbox","select","rate","switch","slider","uploadImg","uploadFile","cascader"].includes(t.type)||e.customList.includes(t.type))&&e.dynamicVisibleItem(t)?o("el-form-item",{key:l,attrs:{label:e.formTemplate.config.labelWidth>0?t.label:null,rules:e.recordRules(t),prop:t.rules&&t.rules.length>0?t.model:null,id:t.model,name:t.model}},[t.options.tooptip&&t.options.tooptip.trim()?o("el-tooltip",{staticClass:"item",attrs:{effect:"light",enterable:!1,"open-delay":500,placement:"top-start"}},[o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.options.tooptip))]),o("BaseItem",{attrs:{models:e.dataForm,formConfig:e.formTemplate.config,renderPreview:e.renderPreview,record:t,disabled:e.disabled||t.options.disabled}})],1):o("BaseItem",{attrs:{models:e.dataForm,formConfig:e.formTemplate.config,renderPreview:e.renderPreview,record:t,disabled:e.disabled||t.options.disabled}})],1):e._e()]})),o("el-form-item",{attrs:{label:"排序",prop:"seq"}},[e.renderPreview?[e._v(" "+e._s(e.dataForm.seq)+" ")]:[o("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序号",disabled:e.renderPreview},model:{value:e.dataForm.seq,callback:function(t){e.$set(e.dataForm,"seq",t)},expression:"dataForm.seq"}})]],2)],2):e._e(),o("div",{staticClass:"mod-footer"},[o("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e.renderPreview?e._e():o("el-button",{attrs:{disabled:e.loading,type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},Ve=[],Se={name:"table-add-or-update",components:{BaseItem:ke},data(){return{randomId:"",loading:!1,visible:!1,dataForm:{_id:"",seq:0},dataRule:{}}},computed:{customList(){return window.customComponents?window.customComponents.map(e=>e.type):[]}},props:{formTemplate:{type:Object,default:()=>({})},formConfig:{type:Object,default:()=>({})},renderPreview:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{recordRules(e){if(this.renderPreview)return[];const t=e.rules;for(var o=0;o<t.length;o++){const e=t[o];1!=e.vtype&&2!=e.vtype||(e.validator=this.validatorFiled),e.trigger||(e.trigger=["change","blur"])}return t},dynamicVisibleItem(e){if(!e.options||!e.options.dynamicVisible)return!0;if(!e.options.dynamicVisibleValue)return!0;let t=e.options.dynamicVisibleValue;const o=M(t,this.dataForm);return o},clearHiddenValue(){if(!this.formConfig||!this.formConfig.outputHidden){const e=document.getElementById(this.randomId);for(let t in this.dataForm){if(t.indexOf("_label")>0||"_id"==t||"seq"==t)continue;const o=e.querySelector("#"+t);o||(delete this.dataForm[t],delete this.dataForm[t+"_label"])}}},validatorFiled(e,t,o){if(1!=e.vtype){if(2==e.vtype){const t=e.script,l=M(t,this.dataForm);l?o():o(new Error(e.message))}}else{if(!e.pattern)return void o();var l=new RegExp(e.pattern);l.test(t)?o():o(new Error(e.message))}},init(e){if(this.randomId="sxfw_table_dialog"+parseInt(1e6*Math.random()),this.visible=!0,this.dataForm._id=null,e)for(var t in e)this.dataForm[t]=e[t];else{const e={};this.formTemplate.list.forEach(t=>{t.options.defaultValue?e[t.model]=t.options.defaultValue:e[t.model]=null}),this.dataForm={_id:null,seq:0,...e},this.$nextTick(()=>{this.$refs["dataForm"].resetFields()})}},dataFormSubmit(){this.$refs["dataForm"].validate(e=>{if(e){if(this.loading=!0,this.clearHiddenValue(),this.dataForm._id)this.$emit("formUpdate",V()(this.dataForm));else{const e=10*(new Date).getTime()+parseInt(100*Math.random());this.dataForm._id=e,this.$emit("formAdd",V()(this.dataForm))}this.loading=!1,this.visible=!1}})}}},Pe=Se,Me=Object(p["a"])(Pe,Ce,Ve,!1,null,null,null),Te=Me.exports,De={name:"TableBatch",props:{record:{type:Object,required:!0},value:{type:[Object,Array],required:!1},models:{type:Object,required:!0},config:{type:Object,required:!1},parentDisabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1}},components:{TableItem:Ie,AddOrUpdate:Te},watch:{value:{handler(e){e instanceof Array&&(this.models[this.record.model]=e||[])},immediate:!0,deep:!0}},data(){return{addOrUpdateVisible:!1,isVisible:!0}},computed:{disabled(){return this.record.options.disabled||this.parentDisabled},templateData(){return{list:this.record.list,config:{labelPosition:this.record.options.labelPosition?this.record.options.labelPosition:"right",labelWidth:this.record.options.labelWidth,size:"mini",hideRequiredMark:!1}}},controlWidth(){let e=100;return this.renderPreview||(this.record.options.copyRow&&(e+=80),"dialog"==this.record.options.addType&&(e+=80)),e}},mounted(){Object.prototype.hasOwnProperty.call(this.models,this.record.model)||this.$set(this.models,this.record.model,[])},methods:{validationSubform(){return!0},resetForm(){this.$refs.dynamicValidateForm.resetFields()},removeDomain(e){this.$confirm("确定删除此数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.models[this.record.model];t&&-1!==e&&(t.splice(e,1),this.$message({message:"删除成功",type:"success",duration:1e3}))})},updateDomain(e){this.addOrUpdateVisible=!0,this.$nextTick(()=>{this.$refs.addOrUpdate.init(e)})},copyDomain(e){let t={...e};if(t._id=null,"dialog"==this.record.options.addType)this.addOrUpdateVisible=!0,this.$nextTick(()=>{this.$refs.addOrUpdate.init(t)});else{this.isVisible=!1;let e=this.models[this.record.model];e.push(t),this.isVisible=!0}},addDomain(){if("dialog"==this.record.options.addType)this.addOrUpdateVisible=!0,this.$nextTick(()=>{this.$refs.addOrUpdate.init()});else{this.isVisible=!1;const e=this.record.list,t={};e.forEach(e=>{t[e.model]=""});let o=this.models[this.record.model];if(o)o.push(t);else{const e=[t];o=e}this.$set(this.models,this.record.model,o),this.isVisible=!0}},formAdd(e){this.isVisible=!1;let t=this.models[this.record.model];if(t)t.push(e);else{const o=[e];this.models[this.record.model]=o,t=this.models[this.record.model]}t.sort((function(e,t){return e.seq-t.seq})),this.isVisible=!0,this.$message({message:"添加成功",type:"success",duration:1e3})},formUpdate(e){this.models[this.record.model];for(var t in this.models[this.record.model])if(this.models[this.record.model][t]._id==e._id){this.models[this.record.model].splice(t,1,e);break}this.models[this.record.model].sort((function(e,t){return e.seq-t.seq})),this.$message({message:"更新成功",type:"success",duration:1e3})},handleInput(){this.$emit("change",this.models)}}},Oe=De,Re=Object(p["a"])(Oe,oe,le,!1,null,null,null),qe=Re.exports,Fe={name:"form-item",data(){return{checkList:[]}},props:{record:{type:Object,required:!0},formConfig:{type:Object,default:()=>({labelWidth:120})},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1},isDragPanel:{type:Boolean,default:!1}},components:{TableBatch:qe,BaseItem:ke},watch:{checkList:{handler(e,t){this.$set(this.models,this.record.model,e)},deep:!0}},computed:{customList(){return window.customComponents?window.customComponents.map(e=>e.type):[]},showRequiredMark(){const e=this.record.options.showRequiredMarkScript;if(!e)return!1;const t=M(e,this.models);return t},dynamicVisibleItem(){if(this.isDragPanel)return!0;if(!this.record.options||!this.record.options.dynamicVisible)return!0;if(!this.record.options.dynamicVisibleValue)return!0;let e=this.record.options.dynamicVisibleValue;const t=M(e,this.models);return t},recordRules(){if(this.isDragPanel||this.renderPreview||!this.record.rules||0==this.record.rules.length)return[];let e=this.record.rules;const t=e[0].required;for(var o=0;o<e.length;o++){const l=e[o];l.required=t,1!=l.vtype&&2!=l.vtype||(l.validator=this.validatorFiled),l.trigger||(l.trigger=["change","blur"])}return"batch"==this.record.type&&e.push({vtype:3,trigger:["change","blur"],validator:this.validatorFiled,message:"待完善"}),e}},methods:{validatorFiled(e,t,o){if(1!=e.vtype){if(2==e.vtype){const t=e.script,l=M(t,this.models);l?o():o(new Error(e.message))}else if(3==e.vtype)if(this.$refs.TableBatch){const t=this.$refs.TableBatch.validatorRule();t?o():o(new Error(e.message))}else o()}else{if(!e.pattern)return void o();var l=new RegExp(e.pattern);l.test(t)?o():o(new Error(e.message))}},forceUpdate(){this.$emit("forceUpdate")},handleChange(e,t){this.$emit("change",e,t)},buttonClick(){"button"==this.record.type&&this.record.options.dynamicFun&&M(this.record.options.dynamicFun,this.models)}},mounted(){if(this.models[this.record.model])return;const e=this.record.options.defaultValue;e&&("checkbox"==this.record.type?this.checkList=e:this.models[this.record.model]=e)}},Le=Fe,Ae=Object(p["a"])(Le,ee,te,!1,null,null,null),je=Ae.exports,Ee={props:{record:{type:Object,required:!0},selectItem:{type:Object,default:()=>{}},config:{type:Object,required:!0},hideModel:{type:Boolean,default:!1}},data(){return{models:{}}},components:{FormItem:je}},ze=Ee,Be=Object(p["a"])(ze,Q,Z,!1,null,null,null),He=Be.exports,Ne={name:"layoutItem",props:{record:{type:Object,required:!0},selectItem:{type:Object,required:!0},config:{type:Object,required:!0},startType:{type:String,required:!0},insertAllowedType:{type:Array,required:!0},hideModel:{type:Boolean,default:!1}},computed:{insertAllowed(){return this.insertAllowedType.includes(this.startType)}},components:{formNode:He,draggable:L.a},methods:{handleShowRightMenu(e,t,o,l,i){this.$emit("handleShowRightMenu",e,t,o,l,i)},handleSelectItem(e){this.$emit("handleSelectItem",e)},handleColAdd(e,t){this.$emit("handleColAdd",e,t)}}},Je=Ne,Ue=Object(p["a"])(Je,G,X,!1,null,null,null),We=Ue.exports,Ke={name:"FormPanel",data(){return{form:this.$refs.form,insertAllowedType:["input","textarea","number","select","batch","checkbox","radio","date","time","rate","slider","uploadFile","uploadImg","cascader","treeSelect","switch","text","html"],rightMenuSelectValue:{},showRightMenu:!1,isMergeCol:!1,menuTop:0,menuLeft:0,trIndex:0,tdIndex:0,styleVisible:!1,tdStyle:{style:"",class:""}}},props:{noModel:{type:Array,required:!0},startType:{type:String,required:!0},data:{type:Object,required:!0},selectItem:{type:Object,default:()=>{}},hideModel:{type:Boolean,default:!1}},components:{draggable:L.a,layoutItem:We},methods:{deepClone(e){const t=e.newIndex,o=JSON.stringify(this.data.list);this.data.list=JSON.parse(o),this.data.list&&this.data.list.length>t&&(delete this.data.list[t].icon,delete this.data.list[t].component,this.$emit("handleSetSelectItem",this.data.list[t]))},handleColAdd(e,t,o=!1){const l=e.newIndex,i=t[l].type+"_"+(new Date).getTime();if(""===t[l].key||o){if(this.$set(t,l,{...t[l],key:i,model:i}),this.noModel.includes(t[l].type)&&delete t[l].model,"undefined"!==typeof t[l].options){const e=JSON.stringify(t[l].options);t[l].options=JSON.parse(e)}if("undefined"!==typeof t[l].rules){const e=JSON.stringify(t[l].rules);t[l].rules=JSON.parse(e)}if("undefined"!==typeof t[l].list&&t[l].list.forEach(e=>{e.model=e.model+1,e.key=e.key+1}),"undefined"!==typeof t[l].columns){const e=JSON.stringify(t[l].columns);t[l].columns=JSON.parse(e),t[l].columns.forEach(e=>{e.list&&e.list.length>0&&e.list.forEach(e=>{e.model=e.model+1,e.key=e.key+1})})}if("table"===t[l].type){const e=JSON.stringify(t[l].trs);t[l].trs=JSON.parse(e),t[l].trs.forEach(e=>{e.tds.forEach(e=>{e.list&&e.list.length>0&&e.list.forEach(e=>{e.model=e.model+1,e.key=e.key+1})})})}}const s=JSON.stringify(t[l]);t[l]=JSON.parse(s),this.$emit("handleSetSelectItem",t[l])},dragStart(e,t){this.$emit("handleSetSelectItem",t[e.oldIndex])},handleSelectItem(e){this.$emit("handleSetSelectItem",e)},handleCopy(e=!0,t){const o=l=>{l.forEach((i,s)=>{if(i.key!==this.selectItem.key)"grid"===i.type?i.columns.forEach(e=>{o(e.list)}):"batch"===i.type||"control"===i.type?o(i.list):"table"===i.type&&i.trs.forEach(e=>{e.tds.forEach(e=>{o(e.list)})});else{e?l.splice(s+1,0,V()(i)):l.splice(s+1,0,V()(t));const o={newIndex:s+1};this.handleColAdd(o,l,!0)}})};o(this.data.list)},handleDetele(){const e=t=>(t=t.filter((o,l)=>("grid"===o.type?o.columns.forEach(t=>{t.list=e(t.list)}):"control"===o.type||"batch"===o.type?o.list=e(o.list):"table"===o.type&&o.trs.forEach(t=>{t.tds.forEach(t=>{t.list=e(t.list)})}),o.key!==this.selectItem.key||(1===t.length?this.handleSelectItem({key:""}):t.length-1>l?this.handleSelectItem(t[l+1]):this.handleSelectItem(t[l-1]),!1))),t);this.data.list=e(this.data.list)},handleDropMerge(){const e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex],t=e.colspan,o=e.rowspan;if(e&&(t>1||o>1)){this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan=1,this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan=1;let e=[];if(t>1){for(var l=0;l<t-1;l++)e.push({colspan:1,rowspan:1,list:[]});this.rightMenuSelectValue.trs[this.trIndex].tds.splice(this.tdIndex+1,0,...e)}if(o>1){e.push({colspan:1,rowspan:1,list:[]});for(var i=this.trIndex+1;i<this.trIndex+o;i++)this.rightMenuSelectValue.trs[i].tds.splice(this.tdIndex+1,0,...e)}}},handleDownMerge(){if(this.rightMenuSelectValue.trs.length-this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan<=this.trIndex)return this.$message.error("当前是最后一行，无法向下合并"),!1;let e=0;if(this.rightMenuSelectValue.trs[this.trIndex].tds.forEach((t,o)=>{if(o>=this.tdIndex)return!1;t.rowspan>this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan&&(e+=1)}),this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan!==this.rightMenuSelectValue.trs[this.trIndex+1].tds[this.tdIndex-e].colspan)return this.$message.error("当前表格无法向下合并"),!1;let t=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan;const o=this.trIndex+t,l=this.rightMenuSelectValue.trs[o],i=l.tds[this.tdIndex];this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan=t+i.rowspan,this.rightMenuSelectValue.trs[this.trIndex+t].tds=this.rightMenuSelectValue.trs[this.trIndex+t].tds.filter((e,t)=>t!=this.tdIndex)},handleRightMerge(){const e=this.rightMenuSelectValue.trs[this.trIndex].tds.map(e=>e.colspan).reduce((function(e,t){return e+t}));return e-this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan<=this.tdIndex?(this.$message.error("当前是最后一列，无法向右合并"),!1):this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan!==this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex+1].rowspan?(this.$message.error("当前表格无法向右合并"),!1):(this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan+=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex+1].colspan,void(this.rightMenuSelectValue.trs[this.trIndex].tds=this.rightMenuSelectValue.trs[this.trIndex].tds.filter((e,t)=>t!==this.tdIndex+1)))},handleAddCol(){this.rightMenuSelectValue.trs.forEach(e=>{e.tds.splice(this.tdIndex+1,0,{colspan:1,rowspan:1,list:[]})})},handleAddRow(){const e=this.rightMenuSelectValue.trs[0].tds.map(e=>e.colspan).reduce((function(e,t){return e+t})),t={tds:[]};for(let o=0;o<e;o++)t.tds.push({colspan:1,rowspan:1,list:[]});this.rightMenuSelectValue.trs.splice(this.trIndex+1,0,t)},handleRemoveRow(){const e=this.trIndex,t=this.rightMenuSelectValue.trs.length;t<=1?this.$message.error("当前是最后一行,无法删除"):this.rightMenuSelectValue.trs.splice(e,1)},handleRemoveCol(){const e=this.tdIndex;for(let t in this.rightMenuSelectValue.trs){let e=this.rightMenuSelectValue.trs[t].tds;if(e.length<=1)return void this.$message.error("当前只剩下最后一列,无法删除")}this.rightMenuSelectValue.trs.forEach(t=>{t.tds.splice(e,1)})},handleSettingStyle(){const e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex],t=e.class,o=e.style;this.tdStyle.style=o,this.tdStyle.class=t,this.styleVisible=!0},settingStyle(){const e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex];e.style=this.tdStyle.style,e.class=this.tdStyle.class,this.rightMenuSelectValue.trs[this.trIndex].tds.splice(this.tdIndex,1,e),this.styleVisible=!1},handleShowRightMenu(e,t,o,l,i){e.stopPropagation(),this.showRightMenu=!0;let s=210,a=280;const n=document.body.clientHeight,r=document.body.clientWidth;return e.clientY+s>n?this.menuTop=e.clientY-s:this.menuTop=e.clientY,e.clientX+a>r?this.menuLeft=e.clientX-a:this.menuLeft=e.clientX+20,this.activeArr=[t],this.rightMenuSelectValue=t,this.trIndex=o,this.tdIndex=l,this.isMergeCol=i,!1},handleRemoveRightMenu(){this.showRightMenu=!1}},mounted(){document.addEventListener("click",this.handleRemoveRightMenu,!0),document.addEventListener("contextmenu",this.handleRemoveRightMenu,!0)},destroyed(){document.removeEventListener("click",this.handleRemoveRightMenu,!0),document.removeEventListener("contextmenu",this.handleRemoveRightMenu,!0)}},Ye=Ke,Ge=Object(p["a"])(Ye,K,Y,!1,null,null,null),Xe=Ge.exports,Qe={components:{FormPanel:Xe},data(){return{updateTime:0,hideModel:!1,noModel:T,startType:"",selectItem:{}}},props:{data:{type:Object,required:!0},selectForm:{type:Object}},methods:{handleSetSelectItem(e){let t=(new Date).getTime();if(t-this.updateTime<100)return!1;this.updateTime=t,this.selectItem=e,this.$emit("changeSelectItem",this.selectItem),e.key&&(this.startType=e.type)}}},Ze=Qe,et=Object(p["a"])(Ze,U,W,!1,null,null,null),tt=et.exports,ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("el-tab-pane",{attrs:{label:"控件属性",name:"item"}},[o("ItemProperties",{ref:"itemProperties",attrs:{selectItem:e.selectItem}},[o("template",{attrs:{selectItem:e.selectItem},slot:"custom-properties"},[e._t("custom-properties",null,{selectItem:e.selectItem})],2)],2)],1),o("el-tab-pane",{attrs:{label:"表单属性",name:"form"}},[o("FormProperties",{ref:"formProperties",attrs:{config:e.data.config,previewOptions:e.previewOptions}},[o("template",{attrs:{data:e.data},slot:"form-extend-properties"},[e._t("form-extend-properties",null,{data:e.data})],2)],2)],1),e._t("extend-tab",null,{data:e.data})],2)},lt=[],it=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"properties-centent"},[o("div",{staticClass:"properties-body"},[o("p",{directives:[{name:"show",rawName:"v-show",value:!e.selectItem.key,expression:"!selectItem.key"}],staticClass:"hint-box"},[e._v("未选择控件")]),o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.selectItem.key,expression:"selectItem.key"}],attrs:{size:"mini",disabled:e.disabled}},[e.hideModel?e._e():o("el-form-item",{attrs:{label:"标签"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.selectItem.label,callback:function(t){e.$set(e.selectItem,"label",t)},expression:"selectItem.label"}})],1),e.hideModel||e.noModel.includes(e.selectItem.type)?e._e():o("el-form-item",{attrs:{label:"数据字段"}},[o("el-input",{attrs:{placeholder:"请输入",disabled:void 0!=e.selectItem.item&&void 0!=e.selectItem.item.id},model:{value:e.selectItem.model,callback:function(t){e.$set(e.selectItem,"model",t)},expression:"selectItem.model"}})],1),o("el-divider"),"input"==e.selectItem.type||"textarea"==e.selectItem.type?[o("el-form-item",{attrs:{label:"占位内容"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"默认值"}},[o("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"请输入":e.options.format},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-form-item",{attrs:{label:"最大长度"}},[o("el-input-number",{attrs:{placeholder:"最大长度,为0表示不限制",min:0},model:{value:e.options.maxLength,callback:function(t){e.$set(e.options,"maxLength",t)},expression:"options.maxLength"}})],1),"input"===e.selectItem.type?o("el-form-item",{attrs:{label:"前后缀"}},[o("el-input",{attrs:{placeholder:"前缀标签"},model:{value:e.options.prepend,callback:function(t){e.$set(e.options,"prepend",t)},expression:"options.prepend"}},[o("template",{slot:"prepend"},[e._v("前缀")])],2),o("el-input",{attrs:{placeholder:"后缀标签"},model:{value:e.options.append,callback:function(t){e.$set(e.options,"append",t)},expression:"options.append"}},[o("template",{slot:"append"},[e._v("后缀")])],2)],1):e._e(),o("el-divider"),"textarea"===e.selectItem.type?o("el-form-item",{attrs:{label:"输入框行数"}},[o("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"输入框行数"},model:{value:e.options.rows,callback:function(t){e.$set(e.options,"rows",t)},expression:"options.rows"}})],1):e._e(),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}})],1)]:e._e(),"number"==e.selectItem.type?[o("el-form-item",{attrs:{label:"占位内容"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"步长"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.step,callback:function(t){e.$set(e.options,"step",t)},expression:"options.step"}})],1),o("el-form-item",{attrs:{label:"最小值"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.min,callback:function(t){e.$set(e.options,"min",t)},expression:"options.min"}})],1),o("el-form-item",{attrs:{label:"最大值"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1),o("el-form-item",{attrs:{label:"数值精度"}},[o("el-input-number",{attrs:{min:0,max:5,placeholder:"请输入"},model:{value:e.options.precision,callback:function(t){e.$set(e.options,"precision",t)},expression:"options.precision"}})],1),o("el-form-item",{attrs:{label:"默认值"}},[o("el-input-number",{attrs:{step:e.options.step,min:e.options.min||-1/0,max:e.options.max||1/0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"后缀"}},[o("el-input",{attrs:{placeholder:"后缀标签"},model:{value:e.options.append,callback:function(t){e.$set(e.options,"append",t)},expression:"options.append"}},[o("template",{slot:"append"},[e._v("后缀")])],2)],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"select"==e.selectItem.type?[o("el-form-item",{attrs:{label:"占位内容"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"选项配置"}},[o("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[o("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),o("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?o("div",[o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[o("template",{slot:"prepend"},[e._v("远端方法")])],2),o("el-input",{attrs:{size:"mini",title:"假设当前接口返回的数据结构为:{code:200,data:[{id:1,name:'11'},{id:2,name:'22'}]} , 则当前的dataPath填写: data"},model:{value:e.options.dataPath,callback:function(t){e.$set(e.options,"dataPath",t)},expression:"options.dataPath"}},[o("template",{slot:"prepend"},[e._v("列表数据dataPath")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[o("template",{slot:"prepend"},[e._v("值字段")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[o("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),o("Option",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"联动关联"}},[o("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.options.linkage,callback:function(t){e.$set(e.options,"linkage",t)},expression:"options.linkage"}})],1),e.options.linkage?[o("Linkage",{model:{value:e.options.linkData,callback:function(t){e.$set(e.options,"linkData",t)},expression:"options.linkData"}})]:e._e(),o("el-divider"),0==e.options.dynamic?o("el-form-item",{attrs:{label:"默认值"}},[o("el-select",{attrs:{clearable:!0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l(e.options.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),o("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}}),o("el-checkbox",{attrs:{label:"可搜索"},on:{change:function(t){t||(e.options.onlineSearch=!1)}},model:{value:e.options.showSearch,callback:function(t){e.$set(e.options,"showSearch",t)},expression:"options.showSearch"}}),e.options.showSearch?o("el-checkbox",{attrs:{label:"实时搜索"},model:{value:e.options.onlineSearch,callback:function(t){e.$set(e.options,"onlineSearch",t)},expression:"options.onlineSearch"}}):e._e()],1),o("el-divider"),e.options.showSearch&&e.options.onlineSearch?o("el-form-item",{attrs:{label:"实时搜索回调"}},[o("el-input",{attrs:{type:"textarea",placeholder:"搜索带参,eg: name=$, $表示当前输入关键字"},model:{value:e.options.onlineParams,callback:function(t){e.$set(e.options,"onlineParams",t)},expression:"options.onlineParams"}})],1):e._e(),o("el-divider"),o("el-form-item",{attrs:{label:"选择后回调"}},[o("el-input",{attrs:{type:"textarea",placeholder:"选择后回调方法,eg: $.A004=$select.name, $表示当前表单数据,$select标示当前选择元素实体"},model:{value:e.options.selectCb,callback:function(t){e.$set(e.options,"selectCb",t)},expression:"options.selectCb"}})],1),e.selectItem.options.clearable?o("el-form-item",{attrs:{label:"清除后回调"}},[o("el-input",{attrs:{type:"textarea",placeholder:"清除后回调方法,eg: $.A004= '', $表示当前表单数据"},model:{value:e.selectItem.options.clearCb,callback:function(t){e.$set(e.selectItem.options,"clearCb",t)},expression:"selectItem.options.clearCb"}})],1):e._e()]:e._e(),"checkbox"==e.selectItem.type?[o("el-form-item",{attrs:{label:"选项配置"}},[o("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[o("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),o("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?o("div",[o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[o("template",{slot:"prepend"},[e._v("远端方法")])],2),o("el-input",{attrs:{size:"mini",title:"假设当前接口返回的数据结构为:{code:200,data:[{id:1,name:'11'},{id:2,name:'22'}]} , 则当前的dataPath填写: data"},model:{value:e.options.dataPath,callback:function(t){e.$set(e.options,"dataPath",t)},expression:"options.dataPath"}},[o("template",{slot:"prepend"},[e._v("列表数据dataPath")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[o("template",{slot:"prepend"},[e._v("值字段")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[o("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),o("Option",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"联动关联"}},[o("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.options.linkage,callback:function(t){e.$set(e.options,"linkage",t)},expression:"options.linkage"}})],1),e.options.linkage?[o("Linkage",{model:{value:e.options.linkData,callback:function(t){e.$set(e.options,"linkData",t)},expression:"options.linkData"}})]:e._e(),o("el-divider"),0==e.options.dynamic?o("el-form-item",{attrs:{label:"默认值"}},[o("el-checkbox-group",{attrs:{options:e.options.options},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l([].concat(e.options.options),(function(t){return o("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1):e._e(),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"radio"==e.selectItem.type?[o("el-form-item",{attrs:{label:"选项配置"}},[o("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[o("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),o("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?o("div",[o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[o("template",{slot:"prepend"},[e._v("远端方法")])],2),o("el-input",{attrs:{size:"mini",title:"假设当前接口返回的数据结构为:{code:200,data:[{id:1,name:'11'},{id:2,name:'22'}]} , 则当前的dataPath填写: data"},model:{value:e.options.dataPath,callback:function(t){e.$set(e.options,"dataPath",t)},expression:"options.dataPath"}},[o("template",{slot:"prepend"},[e._v("列表数据dataPath")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[o("template",{slot:"prepend"},[e._v("值字段")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[o("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),o("Option",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"联动关联"}},[o("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.options.linkage,callback:function(t){e.$set(e.options,"linkage",t)},expression:"options.linkage"}})],1),e.options.linkage?[o("Linkage",{model:{value:e.options.linkData,callback:function(t){e.$set(e.options,"linkData",t)},expression:"options.linkData"}})]:e._e(),o("el-divider"),0==e.options.dynamic?o("el-form-item",{attrs:{label:"默认值"}},[o("el-radio-group",{attrs:{options:e.options.options},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l([].concat(e.options.options),(function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1):e._e(),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"date"==e.selectItem.type||"time"==e.selectItem.type||"datePicker"==e.selectItem.type?["date"!=e.selectItem.type&&"datePicker"!=e.selectItem.type||!e.options.range?o("el-form-item",{attrs:{label:"占位内容"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1):o("el-form-item",{attrs:{label:"占位内容"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.rangeStartPlaceholder,callback:function(t){e.$set(e.options,"rangeStartPlaceholder",t)},expression:"options.rangeStartPlaceholder"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.rangeEndPlaceholder,callback:function(t){e.$set(e.options,"rangeEndPlaceholder",t)},expression:"options.rangeEndPlaceholder"}})],1),o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"默认值"}},["time"!=e.selectItem.type&&e.options.range?e._e():o("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"":e.options.format},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}}),"date"!=e.selectItem.type&&"datePicker"!=e.selectItem.type||!e.options.range?e._e():o("el-input",{attrs:{placeholder:"起始时间"+("undefined"===typeof e.options.format?"":e.options.format)},model:{value:e.options.rangeDefaultValue[0],callback:function(t){e.$set(e.options.rangeDefaultValue,0,t)},expression:"options.rangeDefaultValue[0]"}}),"date"!=e.selectItem.type&&"datePicker"!=e.selectItem.type||!e.options.range?e._e():o("el-input",{attrs:{placeholder:"结束时间"+("undefined"===typeof e.options.format?"":e.options.format)},model:{value:e.options.rangeDefaultValue[1],callback:function(t){e.$set(e.options.rangeDefaultValue,1,t)},expression:"options.rangeDefaultValue[1]"}})],1),o("el-form-item",{attrs:{label:"时间格式"}},[o("el-input",{attrs:{placeholder:"date"==e.selectItem.type?"YYYY-MM-DD":"datePicker"==e.selectItem.type?"YYYY-MM-DD HH:mm:ss":"HH:mm:ss"},model:{value:e.options.format,callback:function(t){e.$set(e.options,"format",t)},expression:"options.format"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),"date"==e.selectItem.type||"datePicker"==e.selectItem.type?o("el-checkbox",{attrs:{label:"范围选择"},model:{value:e.options.range,callback:function(t){e.$set(e.options,"range",t)},expression:"options.range"}}):e._e()],1)]:e._e(),"rate"==e.selectItem.type?["undefined"!==typeof e.options.max?o("el-form-item",{attrs:{label:"最大值"}},[o("el-input-number",{attrs:{placeholder:"请输入"},on:{change:function(t){e.options.defaultValue>t&&(e.options.defaultValue=t)}},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1):e._e(),o("el-form-item",{attrs:{label:"默认值"}},[o("el-rate",{attrs:{allowHalf:e.options.allowHalf,max:e.options.max},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"允许半选"},model:{value:e.options.allowHalf,callback:function(t){e.$set(e.options,"allowHalf",t)},expression:"options.allowHalf"}})],1)]:e._e(),"slider"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"步长"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.step,callback:function(t){e.$set(e.options,"step",t)},expression:"options.step"}})],1),o("el-form-item",{attrs:{label:"最小值"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.min,callback:function(t){e.$set(e.options,"min",t)},expression:"options.min"}})],1),o("el-form-item",{attrs:{label:"最大值"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1),o("el-form-item",{attrs:{label:"默认值"}},[o("el-input-number",{attrs:{step:e.options.step,min:e.options.min||-1/0,max:e.options.max||1/0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"标记marks"}},[o("br"),o("Option",{staticStyle:{width:"100%"},attrs:{keyNumber:!0,type:"keyvalue"},model:{value:e.options.marks,callback:function(t){e.$set(e.options,"marks",t)},expression:"options.marks"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"显示输入框"},model:{value:e.options.showInput,callback:function(t){e.$set(e.options,"showInput",t)},expression:"options.showInput"}})],1)]:e._e(),"uploadFile"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"最大上传数量"}},[o("el-input-number",{attrs:{min:1},model:{value:e.options.limit,callback:function(t){e.$set(e.options,"limit",t)},expression:"options.limit"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}})],1)]:e._e(),"uploadImg"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"最大上传数量"}},[o("el-input-number",{attrs:{min:1},model:{value:e.options.limit,callback:function(t){e.$set(e.options,"limit",t)},expression:"options.limit"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"样式"}},[o("el-radio-group",{model:{value:e.options.listType,callback:function(t){e.$set(e.options,"listType",t)},expression:"options.listType"}},[o("el-radio-button",{attrs:{label:"text"}},[e._v("text")]),o("el-radio-button",{attrs:{label:"picture"}},[e._v("picture")]),o("el-radio-button",{attrs:{label:"picture-card"}},[e._v("card")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}})],1)]:e._e(),"cascader"==e.selectItem.type?[o("el-form-item",{attrs:{label:"选项配置"}},[o("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[o("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),o("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?o("div",[o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[o("template",{slot:"prepend"},[e._v("远端方法")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.dataPath,callback:function(t){e.$set(e.options,"dataPath",t)},expression:"options.dataPath"}},[o("template",{slot:"prepend"},[e._v("列表数据jsonPath")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[o("template",{slot:"prepend"},[e._v("值字段")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[o("template",{slot:"prepend"},[e._v("标签字段")])],2),o("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteChildren,callback:function(t){e.$set(e.options,"remoteChildren",t)},expression:"options.remoteChildren"}},[o("template",{slot:"prepend"},[e._v("下级字段")])],2)],1):e._e(),o("Option",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),o("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}}),o("el-checkbox",{attrs:{label:"可搜索"},model:{value:e.options.showSearch,callback:function(t){e.$set(e.options,"showSearch",t)},expression:"options.showSearch"}})],1)]:e._e(),"batch"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"对话框标签宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.labelWidth,callback:function(t){e.$set(e.options,"labelWidth",t)},expression:"options.labelWidth"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"标签对齐方式"}},[o("el-radio-group",{model:{value:e.options.labelPosition,callback:function(t){e.$set(e.options,"labelPosition",t)},expression:"options.labelPosition"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),o("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),o("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"滚动高度"}},[o("el-input-number",{attrs:{min:0},model:{value:e.options.scrollY,callback:function(t){e.$set(e.options,"scrollY",t)},expression:"options.scrollY"}})],1),o("el-form-item",{attrs:{label:"表格样式Class名称"}},[o("el-input",{model:{value:e.selectItem.options.customClass,callback:function(t){e.$set(e.selectItem.options,"customClass",t)},expression:"selectItem.options.customClass"}})],1),o("el-form-item",{attrs:{label:"表格样式CSS"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.selectItem.options.customStyle,callback:function(t){e.$set(e.selectItem.options,"customStyle",t)},expression:"selectItem.options.customStyle"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"新增行方式"}},[o("el-radio-group",{model:{value:e.options.addType,callback:function(t){e.$set(e.options,"addType",t)},expression:"options.addType"}},[o("el-radio",{attrs:{label:"line"}},[e._v("增加行")]),o("el-radio",{attrs:{label:"dialog"}},[e._v("弹出框")])],1)],1),o("el-divider",{staticClass:"divider-center"},[e._v(" "+e._s("dialog"==e.options.addType?"外部展示字段":"字段宽度")+" ")]),o("el-form-item",[o("el-checkbox-group",{model:{value:e.selectItem.options.showItem,callback:function(t){e.$set(e.selectItem.options,"showItem",t)},expression:"selectItem.options.showItem"}},e._l(e.selectItem.list,(function(t){return o("el-row",{key:t.model},[o("el-col",{attrs:{span:12}},["dialog"==e.options.addType?o("el-checkbox",{attrs:{label:t.model}},[e._v(e._s(t.label))]):o("span",[e._v(" "+e._s(t.label)+" ")])],1),o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{placeholder:"宽度"},model:{value:e.selectItem.options.colWidth[t.model],callback:function(o){e.$set(e.selectItem.options.colWidth,t.model,o)},expression:"selectItem.options.colWidth[item.model]"}})],1)],1)})),1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"显示Label"},model:{value:e.options.showLabel,callback:function(t){e.$set(e.options,"showLabel",t)},expression:"options.showLabel"}}),o("el-checkbox",{attrs:{label:"显示边框"},model:{value:e.options.showBorder,callback:function(t){e.$set(e.options,"showBorder",t)},expression:"options.showBorder"}}),o("el-checkbox",{attrs:{label:"隐藏序号"},model:{value:e.options.hideSequence,callback:function(t){e.$set(e.options,"hideSequence",t)},expression:"options.hideSequence"}}),o("el-checkbox",{attrs:{label:"行复制"},model:{value:e.options.copyRow,callback:function(t){e.$set(e.options,"copyRow",t)},expression:"options.copyRow"}})],1)]:e._e(),"switch"==e.selectItem.type?[o("el-form-item",{attrs:{label:"打开标签值"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.activeText,callback:function(t){e.$set(e.options,"activeText",t)},expression:"options.activeText"}})],1),o("el-form-item",{attrs:{label:"关闭标签值"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.inactiveText,callback:function(t){e.$set(e.options,"inactiveText",t)},expression:"options.inactiveText"}})],1),o("el-form-item",{attrs:{label:"默认值"}},[o("el-switch",{model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"button"==e.selectItem.type?[o("el-form-item",{attrs:{label:"类型"}},[o("el-radio-group",{model:{value:e.options.type,callback:function(t){e.$set(e.options,"type",t)},expression:"options.type"}},[o("el-radio",{attrs:{label:"primary"}},[e._v("Primary")]),o("el-radio",{attrs:{label:"default"}},[e._v("Default")]),o("el-radio",{attrs:{label:"dashed"}},[e._v("Dashed")]),o("el-radio",{attrs:{label:"danger"}},[e._v("Danger")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"按钮对齐方式"}},[o("el-radio-group",{model:{value:e.selectItem.options.textAlign,callback:function(t){e.$set(e.selectItem.options,"textAlign",t)},expression:"selectItem.options.textAlign"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),o("el-radio-button",{attrs:{label:"center"}},[e._v("居中")]),o("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"按钮操作"}},[o("el-input",{attrs:{type:"textarea",placeholder:"动态JS,表单数据绑定值符号$"},model:{value:e.options.dynamicFun,callback:function(t){e.$set(e.options,"dynamicFun",t)},expression:"options.dynamicFun"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"text"==e.selectItem.type?[o("el-form-item",{attrs:{label:"文字对齐方式"}},[o("el-radio-group",{model:{value:e.options.textAlign,callback:function(t){e.$set(e.options,"textAlign",t)},expression:"options.textAlign"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),o("el-radio-button",{attrs:{label:"center"}},[e._v("居中")]),o("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"显示必选标记"},model:{value:e.options.showRequiredMark,callback:function(t){e.$set(e.options,"showRequiredMark",t)},expression:"options.showRequiredMark"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"动态必选"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入表达式或者动态函数,数据实体以$标识"},model:{value:e.options.showRequiredMarkScript,callback:function(t){e.$set(e.options,"showRequiredMarkScript",t)},expression:"options.showRequiredMarkScript"}})],1)]:e._e(),"alert"==e.selectItem.type?[o("el-form-item",{attrs:{label:"内容"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"提示内容"},model:{value:e.options.title,callback:function(t){e.$set(e.options,"title",t)},expression:"options.title"}})],1),o("el-form-item",{attrs:{label:"辅助文字"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"辅助文字"},model:{value:e.options.description,callback:function(t){e.$set(e.options,"description",t)},expression:"options.description"}})],1),o("el-form-item",{attrs:{label:"类型"}},[o("el-radio-group",{model:{value:e.options.type,callback:function(t){e.$set(e.options,"type",t)},expression:"options.type"}},[o("el-radio-button",{attrs:{label:"success"}},[e._v("success")]),o("el-radio-button",{attrs:{label:"warning"}},[e._v("warning")]),o("el-radio-button",{attrs:{label:"info"}},[e._v("info")]),o("el-radio-button",{attrs:{label:"error"}},[e._v("error")])],1)],1),o("el-form-item",{attrs:{label:"主题"}},[o("el-radio-group",{model:{value:e.options.effect,callback:function(t){e.$set(e.options,"effect",t)},expression:"options.effect"}},[o("el-radio-button",{attrs:{label:"light"}},[e._v("light")]),o("el-radio-button",{attrs:{label:"dark"}},[e._v("dark")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"可关闭"},model:{value:e.options.closable,callback:function(t){e.$set(e.options,"closable",t)},expression:"options.closable"}}),o("el-checkbox",{attrs:{label:"居中"},model:{value:e.options.center,callback:function(t){e.$set(e.options,"center",t)},expression:"options.center"}}),o("el-checkbox",{attrs:{label:"显示图标"},model:{value:e.options.showIcon,callback:function(t){e.$set(e.options,"showIcon",t)},expression:"options.showIcon"}})],1),e.options.closable?o("el-form-item",{attrs:{label:"关闭按钮文本"}},[o("el-input",{attrs:{placeholder:"不需要则不填"},model:{value:e.options.closeText,callback:function(t){e.$set(e.options,"closeText",t)},expression:"options.closeText"}})],1):e._e(),o("el-divider"),o("el-form-item",{attrs:{label:"动态必选"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入表达式或者动态函数,数据实体以$标识"},model:{value:e.options.showRequiredMarkScript,callback:function(t){e.$set(e.options,"showRequiredMarkScript",t)},expression:"options.showRequiredMarkScript"}})],1)]:e._e(),"html"==e.selectItem.type?[o("el-form-item",{attrs:{label:"默认值"}},[o("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}})],1)]:e._e(),"divider"==e.selectItem.type?[o("el-form-item",{attrs:{label:"方向"}},[o("el-radio-group",{model:{value:e.options.direction,callback:function(t){e.$set(e.options,"direction",t)},expression:"options.direction"}},[o("el-radio-button",{attrs:{label:"horizontal"}},[e._v("横向")]),o("el-radio-button",{attrs:{label:"vertical"}},[e._v("竖向")])],1)],1),o("el-divider"),e.options.direction&&"horizontal"==e.options.direction?o("el-form-item",{attrs:{label:"标签位置"}},[o("el-radio-group",{model:{value:e.options.orientation,callback:function(t){e.$set(e.options,"orientation",t)},expression:"options.orientation"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),o("el-radio-button",{attrs:{label:"center"}},[e._v("居中")]),o("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1):e._e()]:e._e(),"grid"==e.selectItem.type?[o("el-form-item",{attrs:{label:"栅格间距"}},[o("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.selectItem.options.gutter,callback:function(t){e.$set(e.selectItem.options,"gutter",t)},expression:"selectItem.options.gutter"}})],1),o("el-form-item",{attrs:{label:"列配置项"}},[o("Option",{attrs:{type:"colspan"},model:{value:e.selectItem.columns,callback:function(t){e.$set(e.selectItem,"columns",t)},expression:"selectItem.columns"}})],1)]:e._e(),"table"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-form-item",{attrs:{label:"表格样式Class名称"}},[o("el-input",{model:{value:e.selectItem.options.customClass,callback:function(t){e.$set(e.selectItem.options,"customClass",t)},expression:"selectItem.options.customClass"}})],1),o("el-form-item",{attrs:{label:"表格样式CSS"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.selectItem.options.customStyle,callback:function(t){e.$set(e.selectItem.options,"customStyle",t)},expression:"selectItem.options.customStyle"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"显示边框"},model:{value:e.options.bordered,callback:function(t){e.$set(e.options,"bordered",t)},expression:"options.bordered"}}),o("el-checkbox",{attrs:{label:"鼠标经过点亮"},model:{value:e.options.bright,callback:function(t){e.$set(e.options,"bright",t)},expression:"options.bright"}}),o("el-checkbox",{attrs:{label:"紧凑型"},model:{value:e.options.small,callback:function(t){e.$set(e.options,"small",t)},expression:"options.small"}})],1)]:e._e(),"control"==e.selectItem.type?[o("el-form-item",{attrs:{label:"宽度"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"样式Class名称"}},[o("el-input",{model:{value:e.selectItem.options.customClass,callback:function(t){e.$set(e.selectItem.options,"customClass",t)},expression:"selectItem.options.customClass"}})],1),o("el-form-item",{attrs:{label:"样式CSS"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.selectItem.options.customStyle,callback:function(t){e.$set(e.selectItem.options,"customStyle",t)},expression:"selectItem.options.customStyle"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"操作属性"}},[o("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),o("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),o("el-checkbox",{attrs:{label:"显示边框"},model:{value:e.options.bordered,callback:function(t){e.$set(e.options,"bordered",t)},expression:"options.bordered"}}),o("el-checkbox",{attrs:{label:"无新增"},model:{value:e.options.noAdd,callback:function(t){e.$set(e.options,"noAdd",t)},expression:"options.noAdd"}}),o("el-checkbox",{attrs:{label:"无删除"},model:{value:e.options.noRemove,callback:function(t){e.$set(e.options,"noRemove",t)},expression:"options.noRemove"}}),o("el-checkbox",{attrs:{label:"无复制"},model:{value:e.options.noCopy,callback:function(t){e.$set(e.options,"noCopy",t)},expression:"options.noCopy"}})],1)]:e._e(),e._t("custom-properties"),["input","textarea","number","select","checkbox","radio","date","time","datePicker","rate","slider","uploadFile","uploadImg","cascader","switch","button","text","html","divider"].includes(e.selectItem.type)?o("el-form-item",{attrs:{label:"tooptip提示"}},[o("el-input",{attrs:{type:"textarea",placeholder:"鼠标移动到组件上的提示信息"},model:{value:e.options.tooptip,callback:function(t){e.$set(e.options,"tooptip",t)},expression:"options.tooptip"}})],1):e._e(),o("el-divider"),e.selectItem.rules&&e.selectItem.rules.length>0?o("el-form-item",{attrs:{label:"校验"}},[o("el-checkbox",{attrs:{label:"必填"},model:{value:e.selectItem.rules[0].required,callback:function(t){e.$set(e.selectItem.rules[0],"required",t)},expression:"selectItem.rules[0].required"}}),o("el-input",{attrs:{placeholder:"必填校验提示信息"},model:{value:e.selectItem.rules[0].message,callback:function(t){e.$set(e.selectItem.rules[0],"message",t)},expression:"selectItem.rules[0].message"}}),o("Option",{attrs:{type:"rules",disabled:e.disabled},model:{value:e.selectItem.rules,callback:function(t){e.$set(e.selectItem,"rules",t)},expression:"selectItem.rules"}}),o("el-divider")],1):e._e(),!e.hideModel&&e.selectItem&&e.selectItem.options?[o("el-form-item",{attrs:{label:"动态显示"}},[o("el-switch",{attrs:{"active-text":"打开","inactive-text":"关闭"},model:{value:e.selectItem.options.dynamicVisible,callback:function(t){e.$set(e.selectItem.options,"dynamicVisible",t)},expression:"selectItem.options.dynamicVisible"}})],1),e.selectItem.options.dynamicVisible?o("el-form-item",{attrs:{label:"显示条件"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入显示条件,$标识当前整个表单的绑定数据"},model:{value:e.selectItem.options.dynamicVisibleValue,callback:function(t){e.$set(e.selectItem.options,"dynamicVisibleValue",t)},expression:"selectItem.options.dynamicVisibleValue"}})],1):e._e(),o("el-divider")]:e._e(),!e.hideModel&&e.selectItem&&e.selectItem.options&&e.selectItem.options.disabled?[o("el-form-item",{attrs:{label:"动态禁用"}},[o("el-switch",{attrs:{"active-text":"打开","inactive-text":"关闭"},model:{value:e.selectItem.options.dynamicDisabled,callback:function(t){e.$set(e.selectItem.options,"dynamicDisabled",t)},expression:"selectItem.options.dynamicDisabled"}})],1),e.selectItem.options.dynamicDisabled?o("el-form-item",{attrs:{label:"禁用条件"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入禁用条件,$标识当前整个表单的绑定数据,data标识当前事项实体数据"},model:{value:e.selectItem.options.dynamicDisabledValue,callback:function(t){e.$set(e.selectItem.options,"dynamicDisabledValue",t)},expression:"selectItem.options.dynamicDisabledValue"}})],1):e._e()]:e._e(),"table"===e.selectItem.type?o("el-form-item",{attrs:{label:"提示"}},[o("p",{staticStyle:{"line-height":"26px"}},[e._v(" 请点击右键增加行列，或者合并单元格 ")])]):e._e()],2)],1)])},st=[],at=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"option-change-container"},[["radio","checkbox","select","keyvalue"].includes(e.type)?o("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,l){return o("div",{key:l,staticClass:"option-change-box"},[o("el-col",{attrs:{span:9}},[e.keyNumber?o("el-input",{attrs:{type:"number",placeholder:"值"},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"val.value"}}):o("el-input",{attrs:{type:"text",placeholder:"名称"},model:{value:t.label,callback:function(o){e.$set(t,"label",o)},expression:"val.label"}})],1),o("el-col",{attrs:{span:9}},[e.keyNumber?o("el-input",{attrs:{placeholder:"名称"},model:{value:t.label,callback:function(o){e.$set(t,"label",o)},expression:"val.label"}}):o("el-input",{attrs:{placeholder:"值"},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"val.value"}})],1),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(l)}}},[o("i",{staticClass:"el-icon-delete"})])])],1)})),e.disabled?e._e():o("el-col",{attrs:{span:24}},[o("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")])],1)],2):e._e(),"cascader"===e.type?o("el-row",{attrs:{gutter:8}},[o("div",[o("el-tree",{attrs:{data:e.value?e.value:[],"show-checkbox":"","node-key":"value","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node,i=t.data;return o("span",{staticClass:"custom-tree-node"},[o("span",[o("el-row",{attrs:{gutter:4}},[o("el-col",{attrs:{span:9}},[o("el-input",{attrs:{type:e.keyNumber?"number":"text",placeholder:"名称"},model:{value:i.label,callback:function(t){e.$set(i,"label",t)},expression:"data.label"}})],1),o("el-col",{attrs:{span:9}},[o("el-input",{attrs:{placeholder:"值"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"data.value"}})],1),o("el-col",{attrs:{span:6}},[o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(i)}}},[o("i",{staticClass:"el-icon-circle-plus-outline"})]),o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(l,i)}}},[o("i",{staticClass:"el-icon-delete"})])],1)],1)],1)])}}],null,!1,3814658901)})],1),e.disabled?e._e():o("el-col",{attrs:{span:24}},[o("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")])],1)],1):e._e(),"rules"===e.type?o("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,l){return o("span",{key:l},[0!==l?o("div",{staticClass:"option-change-box"},[o("el-col",{attrs:{span:18}},[[o("el-radio",{attrs:{label:1},model:{value:t.vtype,callback:function(o){e.$set(t,"vtype",o)},expression:"val.vtype"}},[e._v("正则")]),o("el-radio",{attrs:{label:2},model:{value:t.vtype,callback:function(o){e.$set(t,"vtype",o)},expression:"val.vtype"}},[e._v("表达式")])]],2),o("el-col",{attrs:{span:18}},[o("el-input",{attrs:{placeholder:"提示信息"},model:{value:t.message,callback:function(o){e.$set(t,"message",o)},expression:"val.message"}})],1),o("el-col",{attrs:{span:18}},[1==t.vtype?o("el-input",{attrs:{placeholder:"正则表达式pattern"},model:{value:t.pattern,callback:function(o){e.$set(t,"pattern",o)},expression:"val.pattern"}}):2==t.vtype?o("el-input",{attrs:{type:"textarea",placeholder:"条件表达式"},model:{value:t.script,callback:function(o){e.$set(t,"script",o)},expression:"val.script"}}):e._e()],1),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(l)}}},[o("i",{staticClass:"el-icon-delete"})])])],1):e._e()])})),e.disabled?e._e():o("el-col",{attrs:{span:24}},[o("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRules}},[e._v("增加校验")])],1)],2):"colspan"===e.type?o("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,l){return o("div",{key:l,staticClass:"option-change-box"},[o("el-col",{attrs:{span:18}},[o("el-input-number",{staticStyle:{width:"100%"},attrs:{max:24,placeholder:"名称"},model:{value:t.span,callback:function(o){e.$set(t,"span",o)},expression:"val.span"}})],1),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(l)}}},[o("i",{staticClass:"el-icon-delete"})])])],1)})),e.disabled?e._e():o("el-col",{attrs:{span:24}},[o("el-button",{attrs:{type:"primary"},on:{click:e.handleAddCol}},[e._v("添加")])],1)],2):e._e()],1)},nt=[],rt={name:"ChangeOption",props:{value:{type:Array,default:()=>[],required:!0},type:{type:String,default:"option"},disabled:{type:Boolean,default:!1},keyNumber:{type:Boolean,default:!1}},methods:{handleAdd(){let e=[...this.value,{value:"",label:""}];this.$emit("input",e)},handleAddCol(){let e=[...this.value,{span:12,list:[]}];this.$emit("input",e)},handleAddRules(){let e=[...this.value,{vtype:1,pattern:"",script:"",message:""}];this.$emit("input",e)},handleDelete(e){this.$emit("input",this.value.filter((t,o)=>o!==e))},append(e){const t={value:"",label:"",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove(e,t){const o=e.parent,l=o.data.children||o.data,i=l.findIndex(e=>e.value===t.value);l.splice(i,1)}}},dt=rt,ct=Object(p["a"])(dt,at,nt,!1,null,null,null),pt=ct.exports,mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"option-change-container"},[o("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,l){return o("span",{key:l},[o("div",{staticClass:"option-change-box"},[o("el-col",{attrs:{span:21}},[[e._v(" "+e._s(l+1)+"、 "),o("el-radio",{attrs:{label:1},model:{value:t.vtype,callback:function(o){e.$set(t,"vtype",o)},expression:"val.vtype"}},[e._v("本地")]),o("el-radio",{attrs:{label:2},model:{value:t.vtype,callback:function(o){e.$set(t,"vtype",o)},expression:"val.vtype"}},[e._v("远程")])]],2),o("el-col",{attrs:{span:21}},[o("el-input",{attrs:{size:"mini",placeholder:"关联字段"},model:{value:t.model,callback:function(o){e.$set(t,"model",o)},expression:"val.model"}},[o("template",{slot:"prepend"},[e._v("关联字段")])],2)],1),o("el-col",{attrs:{span:21}},[1==t.vtype?[e._v(" 表达式: "),o("el-input",{attrs:{size:"mini",type:"textarea",placeholder:"表达式,eg: $item.value>$.age . 其中$item表示当前数据中具体一条数据,$表示当前整个表单数据"},model:{value:t.script,callback:function(o){e.$set(t,"script",o)},expression:"val.script"}})]:2==t.vtype?o("el-row",[o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{size:"mini",placeholder:"query key"},model:{value:t.queryKey,callback:function(o){e.$set(t,"queryKey",o)},expression:"val.queryKey"}})],1),o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{size:"mini",placeholder:"query value"},model:{value:t.queryValue,callback:function(o){e.$set(t,"queryValue",o)},expression:"val.queryValue"}})],1)],1):e._e()],2),o("el-col",{attrs:{span:3}},[o("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(l)}}},[o("i",{staticClass:"el-icon-delete"})])])],1)])})),e.disabled?e._e():o("el-col",{attrs:{span:24}},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAdd}},[e._v("添加")])],1)],2)],1)},ut=[],ht={name:"ChangeOption",props:{value:{type:Array,default:()=>[],required:!0},disabled:{type:Boolean,default:!1}},methods:{handleAdd(){this.value||(this.value=[]);let e=[...this.value,{vtype:1,model:"",script:"",queryKey:"",queryValue:""}];this.$emit("input",e)},handleDelete(e){this.$emit("input",this.value.filter((t,o)=>o!==e))}}},bt=ht,ft=Object(p["a"])(bt,mt,ut,!1,null,null,null),vt=ft.exports,yt={name:"formItemProperties",data(){return{options:{},noModel:T}},watch:{selectItem(e){this.options=e.options||{}}},props:{selectItem:{type:Object,required:!0},hideModel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},components:{Option:pt,Linkage:vt}},gt=yt,xt=Object(p["a"])(gt,it,st,!1,null,null,null),kt=xt.exports,wt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"properties-centent kk-checkbox"},[o("div",{staticClass:"properties-body"},[o("el-form",{attrs:{"label-position":"left",size:"mini"}},[o("el-form-item",{attrs:{label:"标签对齐方式"}},[o("el-radio-group",{model:{value:e.config.labelPosition,callback:function(t){e.$set(e.config,"labelPosition",t)},expression:"config.labelPosition"}},[o("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),o("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),o("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"标签宽度"}},[o("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.config.labelWidth,callback:function(t){e.$set(e.config,"labelWidth",t)},expression:"config.labelWidth"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"组件尺寸"}},[o("el-radio-group",{model:{value:e.config.size,callback:function(t){e.$set(e.config,"size",t)},expression:"config.size"}},[o("el-radio-button",{attrs:{label:"medium"}},[e._v("medium")]),o("el-radio-button",{attrs:{label:"small"}},[e._v("small")]),o("el-radio-button",{attrs:{label:"mini"}},[e._v("mini")])],1)],1),o("el-divider"),o("el-form-item",{attrs:{label:"校验字段提示"}},[o("el-switch",{attrs:{"active-text":"打开","inactive-value":!0,"active-value":!1,"inactive-text":"关闭"},model:{value:e.config.hideRequiredMark,callback:function(t){e.$set(e.config,"hideRequiredMark",t)},expression:"config.hideRequiredMark"}})],1),o("el-form-item",{attrs:{label:"输出隐藏组件值"}},[o("el-switch",{attrs:{"active-text":"打开","inactive-text":"关闭"},model:{value:e.config.outputHidden,callback:function(t){e.$set(e.config,"outputHidden",t)},expression:"config.outputHidden"}})],1),o("el-divider"),o("el-form-item",{attrs:{label:"表单CSS"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.config.customStyle,callback:function(t){e.$set(e.config,"customStyle",t)},expression:"config.customStyle"}})],1),o("el-divider"),e._t("form-extend-properties"),o("el-form-item",{attrs:{label:"提示"}},[e._v(" 实际预览效果请点击预览查看 ")])],2)],1)])},_t=[],$t={name:"formProperties",props:{config:{type:Object,required:!0},previewOptions:{type:Object,required:!0}}},It=$t,Ct=Object(p["a"])(It,wt,_t,!1,null,null,null),Vt=Ct.exports,St={components:{ItemProperties:kt,FormProperties:Vt},props:{data:{type:Object,default:()=>{}},selectItem:{type:Object,default:()=>{}}},watch:{selectItem(e){this.active="item"}},data(){return{active:"item",previewOptions:{width:850}}},methods:{}},Pt=St,Mt=Object(p["a"])(Pt,ot,lt,!1,null,null,null),Tt=Mt.exports,Dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"design-preview",staticStyle:{top:"20px"},attrs:{title:"预览",visible:e.visible,"append-to-body":!0,"destroy-on-close":!0,width:e.previewWidth+"px"},on:{"update:visible":function(t){e.visible=t}}},[o("div",{staticClass:"item-main"},[o("FormBuild",{ref:"formBuild",attrs:{formTemplate:e.jsonData,models:e.models}}),o("PreviewCode",{ref:"previewCode"}),e.renderVisisble?o("renderPreview",{ref:"renderPreview"}):e._e()],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"mini"},on:{click:e.handleGetData}},[e._v("获取数据")]),o("el-button",{attrs:{size:"mini"},on:{click:e.handleRender}},[e._v("渲染")]),o("el-button",{attrs:{size:"mini"},on:{click:e.handleValidator}},[e._v("验证")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)])},Ot=[],Rt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"undefined"!==typeof e.formTemplate.list&&"undefined"!==typeof e.formTemplate.config?o("el-form",{key:e.randomId,ref:"form",staticClass:"form-build form-design",style:e.formTemplate.config.customStyle,attrs:{"label-position":e.formTemplate.config.labelPosition,"hide-required-asterisk":e.formTemplate.config.hideRequiredMark,"label-width":e.formTemplate.config.labelWidth+"px",rules:e.rules,model:e.models,size:e.formTemplate.config.size,id:e.randomId}},[e._l(e.formTemplate.list,(function(t){return o("buildBlocks",{key:t.model,ref:"buildBlocks",refInFor:!0,attrs:{renderPreview:e.renderPreview,record:t,models:e.models,config:e.config,disabled:e.disabled,formConfig:e.formTemplate.config},on:{handleReset:e.reset,forceUpdate:e.forceUpdate,"update:models":function(t){e.models=t},change:e.handleChange}})}))],2):e._e()},qt=[],Ft=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"grid"===e.record.type&&e.dynamicVisibleItem?o("el-row",{staticClass:"grid-row",attrs:{gutter:e.record.options.gutter}},e._l(e.record.columns,(function(t,l){return o("el-col",{key:l,staticClass:"grid-col",attrs:{span:t.span||0}},e._l(t.list,(function(t){return o("buildBlocks",{key:t.key,ref:"nestedComponents",refInFor:!0,attrs:{disabled:e.disabled,renderPreview:e.renderPreview,models:e.models,record:t,formConfig:e.formConfig},on:{handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange,forceUpdate:e.forceUpdate,"update:models":function(t){e.models=t}}})})),1)})),1):"table"===e.record.type&&e.dynamicVisibleItem?o("table",{class:["table-layout","form-table",e.record.options.customClass?e.record.options.customClass:"",e.record.options.bright?"bright":"",e.record.options.small?"small":"",e.record.options.bordered?"bordered":""],style:e.record.options.customStyle},[e._l(e.record.trs,(function(t,l){return[e.showTr(t,e.models)?o("tr",{key:l},e._l(t.tds,(function(t,l){return o("td",{key:l,class:["table-td",t.class],style:t.style,attrs:{colspan:t.colspan,rowspan:t.rowspan}},e._l(t.list,(function(t){return o("buildBlocks",{key:t.key,ref:"nestedComponents",refInFor:!0,attrs:{disabled:e.disabled,renderPreview:e.renderPreview,models:e.models,record:t,formConfig:e.formConfig},on:{handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange,forceUpdate:e.forceUpdate,"update:models":function(t){e.models=t}}})})),1)})),0):e._e()]}))],2):"control"===e.record.type&&e.dynamicVisibleItem?o("div",[e._l(e.models[e.record.model],(function(t,l){return o("div",{key:l,class:["table-layout","form-table",e.record.options.customClass?e.record.options.customClass:"",e.record.options.bright?"bright":"",e.record.options.small?"small":"",e.record.options.bordered?"form-table-bordered":""],style:e.record.options.customStyle,on:{contextmenu:function(t){return t.preventDefault(),e.handleShowRightMenu(t,l)}}},e._l(e.record.list,(function(l,i){return o("div",{key:i},[o("buildBlocks",{ref:"nestedComponents",refInFor:!0,attrs:{disabled:e.disabled,renderPreview:e.renderPreview,models:t,record:l,formConfig:e.formConfig},on:{handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange,forceUpdate:e.forceUpdate,"update:models":function(e){t=e}}})],1)})),0)})),e.renderPreview||e.record.options.noAdd?e._e():o("el-button",{attrs:{type:"dashed",size:"mini",disabled:e.disabled},on:{click:e.addControl}},[o("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("增加 ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.renderPreview&&e.showRightMenu,expression:"!renderPreview && showRightMenu"}],staticClass:"right-menu",style:{top:e.menuTop+"px",left:e.menuLeft+"px"},attrs:{id:"rightMenu"}},[o("ul",[e.record.options.noCopy?e._e():o("li",{on:{click:e.handleCopy}},[o("i",{staticClass:"el-icon-document"}),e._v("复制")]),e.record.options.noCopy||e.record.options.noRemove?e._e():o("hr"),e.record.options.noRemove?e._e():o("li",{on:{click:e.handleRemove}},[o("i",{staticClass:"el-icon-delete"}),e._v("删除")])])])],2):e.dynamicVisibleItem&&e.record.options.tooptip&&e.record.options.tooptip.trim()?o("el-tooltip",{staticClass:"item",attrs:{effect:"light",enterable:!1,"open-delay":500,placement:"top-start"}},[o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.record.options.tooptip))]),o("form-item",{key:e.record.key,ref:"nestedComponents",attrs:{disabled:e.disabled,renderPreview:e.renderPreview,models:e.models,record:e.record,formConfig:e.formConfig},on:{handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange,forceUpdate:e.forceUpdate,"update:models":function(t){e.models=t}}})],1):e.dynamicVisibleItem?o("form-item",{key:e.record.key,ref:"nestedComponents",attrs:{disabled:e.disabled,renderPreview:e.renderPreview,models:e.models,record:e.record,formConfig:e.formConfig},on:{forceUpdate:e.forceUpdate,handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange,"update:models":function(t){e.models=t}}}):e._e()},Lt=[],At={name:"buildBlocks",data(){return{menuTop:0,menuLeft:0,selectControlIndex:-1,showRightMenu:!1}},props:{record:{type:Object,required:!0},models:{type:Object,required:!0},formConfig:{type:Object,default:()=>({labelWidth:120})},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1}},components:{FormItem:je},computed:{dynamicVisibleItem(){if(!this.record.options||!this.record.options.dynamicVisible)return!0;if(!this.record.options.dynamicVisibleValue)return!0;let e=this.record.options.dynamicVisibleValue;const t=M(e,this.models);return t}},created(){if("control"==this.record.type&&!this.renderPreview&&!Object.prototype.hasOwnProperty.call(this.models,this.record.model)){const e={};this.$set(this.models,this.record.model,[e])}},mounted(){document.addEventListener("click",this.handleRemoveRightMenu,!0),document.addEventListener("contextmenu",this.handleRemoveRightMenu,!0)},destroyed(){document.removeEventListener("click",this.handleRemoveRightMenu,!0),document.removeEventListener("contextmenu",this.handleRemoveRightMenu,!0)},methods:{validationSubform(){return"undefined"===typeof this.$refs.nestedComponents||"undefined"===typeof this.$refs.nestedComponents.validationSubform||this.$refs.nestedComponents.validationSubform()},handleChange(e,t){this.$emit("change",e,t)},forceUpdate(){this.$emit("forceUpdate")},showTr(e,t){const o=e.tds;let l=o.map(e=>{const o=e.list;for(let l in o){const e=o[l];if(!e.options||!e.options.dynamicVisible)return e;if(!e.options.dynamicVisibleValue)return!0;let i=e.options.dynamicVisibleValue;const s=M(i,t);if(s)return e}});for(let i in l)if(l[i])return!0;return!1},addControl(){const e={};this.record.list.forEach(t=>{e[t.model]=""}),this.models[this.record.model].push(e)},handleShowRightMenu(e,t){if(e.stopPropagation(),this.record.options.noRemove&&this.record.options.noCopy)return this.showRightMenu=!1,!1;this.showRightMenu=!0;let o=210,l=280;const i=document.body.clientHeight,s=document.body.clientWidth;return e.clientY+o>i?this.menuTop=e.clientY-o:this.menuTop=e.clientY,e.clientX+l>s?this.menuLeft=e.clientX-l:this.menuLeft=e.clientX+20,this.selectControlIndex=t,!1},handleCopy(){if(void 0==this.selectControlIndex||this.selectControlIndex<0)return;if(!this.models[this.record.model]||this.models[this.record.model].length<this.selectControlIndex)return;const e=V()(this.models[this.record.model][this.selectControlIndex]);this.models[this.record.model].push(e)},handleRemove(){void 0==this.selectControlIndex||this.selectControlIndex<0||!this.models[this.record.model]||this.models[this.record.model].length<this.selectControlIndex||(1!=this.models[this.record.model].length?this.models[this.record.model].splice(this.selectControlIndex,1):this.$message.error(this.record.label+"内仅存的一条数据不能删除"))},handleRemoveRightMenu(){this.showRightMenu=!1}}},jt=At,Et=Object(p["a"])(jt,Ft,Lt,!1,null,null,null),zt=Et.exports,Bt={name:"form-build",data(){return{randomId:"",form:this.$refs.form,rules:{}}},props:{formTemplate:{type:Object,required:!0},models:{type:Object,required:!0},config:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1},customComponents:{type:Array,default:()=>[]}},watch:{formTemplate:{handler(e,t){this.randomId="vue_form_design"+parseInt(1e6*Math.random())},deep:!0}},components:{buildBlocks:zt},methods:{reset(){this.$refs.form.resetFields(),this.models={}},forceUpdate(){},validator(){return new Promise((e,t)=>{this.$refs.form.validate((t,o)=>{e(t)})})},getData(){return new Promise((e,t)=>{this.$refs.form.validate((o,l)=>{o||t("验证失败"),this.clearHiddenValue(),e(this.models)})})},initRules(e,t){},clearHiddenValue(){if(!this.formTemplate.config||!this.formTemplate.config.outputHidden){const e=document.getElementById(this.randomId);for(let t in this.models){if(t.indexOf("_label")>0)continue;const o=e.querySelector("#"+t);o||(delete this.models[t],delete this.models[t+"_label"])}}},initData(){},handleChange(e,t){this.$emit("change",e,t)}},mounted(){this.randomId="vue_form_design"+parseInt(1e6*Math.random()),this.$nextTick(()=>{const e=this.formTemplate.list;this.initRules(e),!window.customComponents&&this.customComponents&&this.customComponents.length>0&&(window.customComponents=this.customComponents),this.config.httpConfig&&!window.httpConfig&&(window.httpConfig=this.config.httpConfig)})}},Ht=Bt,Nt=Object(p["a"])(Ht,Rt,qt,!1,null,null,null),Jt=Nt.exports,Ut=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"JSON数据",visible:e.visible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.visible=t}}},[o("div",{staticClass:"json-box"},[o("el-input",{ref:"myEditor",staticStyle:{"min-height":"300px",height:"300px","max-height":"290px",overflow:"auto"},attrs:{autosize:"",readonly:"",type:"textarea",value:e.editorJson}})],1),o("div",{staticClass:"copy-btn-box"},[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleExportJson}},[e._v(" 导出代码 ")])],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)])},Wt=[],Kt={name:"JsonModal",data(){return{visible:!1,editorJson:"",jsonData:{}}},watch:{visible(e){e&&(this.editorJson=JSON.stringify(this.jsonData,null,"\t"))}},components:{},methods:{handleCancel(){this.visible=!1},exportData(e,t="demo."+this.fileFormat){let o="data:text/csv;charset=utf-8,";o+=e;var l=encodeURI(o),i=document.createElement("a");i.setAttribute("href",l),i.setAttribute("download",t),i.click()},handleExportJson(){this.exportData(this.editorJson)}}},Yt=Kt,Gt=Object(p["a"])(Yt,Ut,Wt,!1,null,null,null),Xt=Gt.exports,Qt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"预览",visible:e.visible,"append-to-body":!0,width:e.previewWidth+"px"},on:{"update:visible":function(t){e.visible=t}}},[o("el-tabs",{staticClass:"form-render-preview form-design",attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("el-tab-pane",{attrs:{label:"模板",name:"template"}},[o("el-input",{staticStyle:{height:"100%"},attrs:{rows:20,type:"textarea"},on:{change:e.changeTemplate},model:{value:e.templdateText,callback:function(t){e.templdateText=t},expression:"templdateText"}})],1),o("el-tab-pane",{attrs:{label:"数据",name:"second"}},[o("el-input",{staticStyle:{height:"100%"},attrs:{rows:20,type:"textarea"},on:{change:e.changeValue},model:{value:e.valueText,callback:function(t){e.valueText=t},expression:"valueText"}})],1),o("el-tab-pane",{attrs:{label:"表单",name:"third"}},[e.buildVisible?o("FormBuild",{ref:"buildPreview",attrs:{formTemplate:e.formTemplate,models:e.models}}):e._e()],1),o("el-tab-pane",{attrs:{label:"渲染",name:"four"}},[e.formVisible?o("FormBuild",{ref:"formPreview",staticStyle:{height:"100%"},attrs:{formTemplate:e.formTemplate,models:e.models,renderPreview:!0}}):e._e()],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),"third"==e.active?o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.syncModel}},[e._v("同 步")]):e._e(),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)],1)},Zt=[],eo={name:"FormPreview",data(){return{templdateText:"",valueText:"",active:"template",visible:!1,formVisible:!1,buildVisible:!1,previewWidth:850,formTemplate:{},models:{}}},components:{FormBuild:Jt},methods:{init(e,t){this.visible=!0,this.$nextTick(()=>{e?(this.formTemplate=e,this.templdateText=JSON.stringify(this.formTemplate,null,"\t")):(this.formTemplate={},this.templdateText=""),t&&(this.models=t,this.valueText=JSON.stringify(this.models,null,"\t")),this.models&&this.handlerFormRender()})},changeTemplate(e){this.formTemplate=JSON.parse(e)},changeValue(e){this.models=JSON.parse(e),this.handlerFormRender()},handlerFormRender(){this.formVisible=!1,this.buildVisible=!1;const e=this.models;this.$nextTick(()=>{this.formVisible=!0,this.buildVisible=!0,e&&this.$refs.formPreview&&this.$nextTick(()=>{this.$refs.formPreview.setData(e),this.$refs.buildPreview.setData(e)})})},syncModel(){this.$refs.buildPreview.getData().then(e=>{this.$nextTick(()=>{this.models=e,this.valueText=JSON.stringify(e,null,"\t")})}).catch(e=>{console.log(e,"获取数据失败")})},handleCancel(){this.visible=!1}}},to=eo,oo=Object(p["a"])(to,Qt,Zt,!1,null,null,null),lo=oo.exports,io={name:"FormPreview",data(){return{visible:!1,renderVisisble:!1,previewWidth:850,models:{},jsonData:{}}},components:{PreviewCode:Xt,FormBuild:Jt,renderPreview:lo},methods:{handleGetData(){this.$refs.formBuild.getData().then(e=>{this.$refs.previewCode.jsonData=e,this.$refs.previewCode.visible=!0}).catch(e=>{console.log(e,"获取数据失败")})},handleValidator(){this.$refs.formBuild.getData().then(e=>{}).catch(e=>{console.log(e,"获取数据失败")})},handleRender(){this.renderVisisble=!0,this.$refs.formBuild.getData().then(e=>{this.$nextTick(()=>{this.$refs.renderPreview.init(this.jsonData,e)})}).catch(e=>{console.log(e,"获取数据失败")})},handleCancel(){this.visible=!1}}},so=io,ao=Object(p["a"])(so,Dt,Ot,!1,null,null,null),no=ao.exports,ro={name:"form-design",data(){return{previewVisible:!1,modelJson:{},modelVisible:!1,importVisible:!1,importText:"",renderVisisble:!1,data:{list:[],config:{labelPosition:"left",labelWidth:100,size:"mini",outputHidden:!0,hideRequiredMark:!0,customStyle:""}},previewOptions:{width:850},selectItem:{}}},watch:{data:{handler(e,t){if(this.selectForm&&this.selectForm.id){const e=JSON.stringify(this.selectForm.htmlModel),t=JSON.stringify(this.data);e!=t&&(this.$set(this.selectForm,"change",!0),this.$set(this.selectForm,"htmlModel",V()(this.data)))}},deep:!0},selectForm:{handler(e,t){if(e&&e.id!=(t?t.id:"")){const t=e.htmlModel;t&&("object"==typeof t||JSON.parse(t));this.initModel(V()(t))}},deep:!0}},props:{selectForm:{type:Object},customComponents:{type:Array,default:()=>[]},config:{type:Object,default:()=>({})},clear:{type:Boolean,default:!0},preview:{type:Boolean,default:!0},reder:{type:Boolean,default:!0},imp:{type:Boolean,default:!0},exp:{type:Boolean,default:!0}},components:{DesignPanel:tt,DragPanel:J,Properties:Tt,Preview:no,previewCode:Xt,renderPreview:lo},created(){this.customComponents&&this.customComponents.length>0&&(window.customComponents=this.customComponents),this.config.httpConfig&&(window.httpConfig=this.config.httpConfig)},methods:{changeSelectItem(e){console.log("changeSelectItem",e),this.selectItem=e},handlePreview(){this.previewVisible=!0;const e=this;this.$nextTick(()=>{e.$refs.preview.jsonData=e.data,e.$refs.preview.previewWidth=e.previewOptions.width,e.$refs.preview.visible=!0})},handleClear(){this.$confirm("清空后无法恢复,请确认操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.data.list=[]})},handleImport(){this.importVisible=!0,this.importText=""},importModel(){if(!this.importText)return void alert("文本不能为空");const e=JSON.parse(this.importText);e&&(this.data=e),this.importVisible=!1},initModel(e){e?this.data=e:this.data.list=[],this.selectItem={},this.$refs.dragPanel.selectItem={}},getModel(){return this.data},handleRender(){this.renderVisisble=!0,this.$nextTick(()=>{this.$refs.renderPreview.init(this.data)})},handleGenerateJson(){this.modelJson=JSON.stringify(this.data,null,"\t"),this.modelVisible=!0}}},co=ro,po=Object(p["a"])(co,$,I,!1,null,null,null),mo=po.exports;mo.install=function(e){e.component(mo.name,mo)},Jt.install=function(e){e.component(Jt.name,Jt)},je.install=function(e){e.component(je.name,je)},ke.install=function(e){e.component(ke.name,ke)};var uo=[mo,Jt,je,ke];o("1333");const ho=function(e){ho.installed||uo.map(t=>e.component(t.name,t))};"undefined"!==typeof window&&window.Vue&&ho(window.Vue);var bo={install:ho,...uo};o("1333");i.a.use(bo),i.a.config.productionTip=!1,new i.a({render:e=>e(_)}).$mount("#app")}});